{"swagger":"2.0","info":{"description":"Api Documentation","version":"1.0","title":"Api Documentation","termsOfService":"urn:tos","contact":{},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0"}},"host":"localhost","basePath":"/","tags":[{"name":"exclusive-task-actions-controller","description":"Exclusive Task Actions Controller"},{"name":"root-controller","description":"Root Controller"},{"name":"task-actions-controller","description":"Task Actions Controller"},{"name":"task-configuration-controller","description":"Task Configuration Controller"},{"name":"task-search-controller","description":"Task Search Controller"}],"paths":{"/":{"get":{"tags":["root-controller"],"summary":"welcome","operationId":"welcomeUsingGET","produces":["application/json"],"parameters":[{"in":"header","name":"Authorization","description":"Keyword `Bearer` followed by a valid IDAM user token","required":false},{"in":"header","name":"ServiceAuthorization","description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","required":true}],"responses":{"200":{"description":"OK","schema":{"type":"string"}}}}},"/task":{"post":{"tags":["task-search-controller"],"summary":"Retrieve a list of Task resources identified by set of search criteria.","operationId":"searchWithCriteriaUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"Authorization","in":"header","description":"Authorization","required":true,"type":"string"},{"name":"first_result","in":"query","description":"first_result","required":false,"type":"integer","format":"int32"},{"name":"max_results","in":"query","description":"max_results","required":false,"type":"integer","format":"int32"},{"in":"body","name":"searchTaskRequest","description":"searchTaskRequest","required":true,"schema":{"$ref":"#/definitions/SearchTaskRequest"}},{"in":"header","name":"ServiceAuthorization","description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","required":true}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/GetTasksResponse"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"415":{"description":"Unsupported Media Type"},"500":{"description":"Internal Server Error"}}}},"/task-configuration/{task-id}":{"post":{"tags":["task-configuration-controller"],"summary":"Given an existent task id configures a task over rest","operationId":"configureTaskUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"header","name":"Authorization","description":"Keyword `Bearer` followed by a valid IDAM user token","required":false},{"in":"header","name":"ServiceAuthorization","description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","required":true},{"name":"task-id","in":"path","description":"task-id","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"string"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"415":{"description":"Unsupported Media Type"},"500":{"description":"Internal Server Error"}}}},"/task-configuration/{task-id}/configuration":{"post":{"tags":["task-configuration-controller"],"summary":"Retrieves a list of configuration variables to be added to a task","operationId":"getConfigurationForTaskUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"header","name":"Authorization","description":"Keyword `Bearer` followed by a valid IDAM user token","required":false},{"in":"body","name":"configureTaskRequest","description":"configureTaskRequest","required":true,"schema":{"$ref":"#/definitions/ConfigureTaskRequest"}},{"in":"header","name":"ServiceAuthorization","description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","required":true},{"name":"task-id","in":"path","description":"task-id","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/ConfigureTaskResponse"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"415":{"description":"Unsupported Media Type"},"500":{"description":"Internal Server Error"}}}},"/task/search-for-completable":{"post":{"tags":["task-search-controller"],"summary":"Retrieve a list of Task resources identified by set of search criteria that are eligible for automatic completion","operationId":"searchWithCriteriaForAutomaticCompletionUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"Authorization","in":"header","description":"Authorization","required":true,"type":"string"},{"in":"body","name":"searchEventAndCase","description":"searchEventAndCase","required":true,"schema":{"$ref":"#/definitions/SearchEventAndCase"}},{"in":"header","name":"ServiceAuthorization","description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","required":true}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/GetTasksCompletableResponse"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"415":{"description":"Unsupported Media Type"},"500":{"description":"Internal Server Error"}}}},"/task/{task-id}":{"get":{"tags":["task-actions-controller"],"summary":"Retrieve a Task Resource identified by its unique id.","operationId":"getTaskUsingGET","produces":["application/json"],"parameters":[{"name":"Authorization","in":"header","description":"Authorization","required":true,"type":"string"},{"in":"header","name":"ServiceAuthorization","description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","required":true},{"name":"task-id","in":"path","description":"task-id","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/GetTaskResponse"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"415":{"description":"Unsupported Media Type"},"500":{"description":"Internal Server Error"}}},"post":{"tags":["exclusive-task-actions-controller"],"summary":"Exclusive access only: Initiate a Task identified by an id.","operationId":"initiateUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"header","name":"Authorization","description":"Keyword `Bearer` followed by a valid IDAM user token","required":false},{"in":"body","name":"initiateTaskRequest","description":"initiateTaskRequest","required":true,"schema":{"$ref":"#/definitions/InitiateTaskRequest"}},{"name":"ServiceAuthorization","in":"header","description":"ServiceAuthorization","required":true,"type":"string"},{"name":"task-id","in":"path","description":"task-id","required":true,"type":"string"}],"responses":{"201":{"description":"Task has been initiated","schema":{"$ref":"#/definitions/TaskResource"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"415":{"description":"Unsupported Media Type"},"500":{"description":"Internal Server Error"}}},"delete":{"tags":["exclusive-task-actions-controller"],"summary":"Exclusive access only: Terminate a Task identified by an id.","operationId":"terminateTaskUsingDELETE","produces":["application/json"],"parameters":[{"in":"header","name":"Authorization","description":"Keyword `Bearer` followed by a valid IDAM user token","required":false},{"name":"ServiceAuthorization","in":"header","description":"ServiceAuthorization","required":true,"type":"string"},{"name":"task-id","in":"path","description":"task-id","required":true,"type":"string"},{"in":"body","name":"terminateTaskRequest","description":"terminateTaskRequest","required":true,"schema":{"$ref":"#/definitions/TerminateTaskRequest"}}],"responses":{"204":{"description":"Task has been terminated","schema":{"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"415":{"description":"Unsupported Media Type"},"500":{"description":"Internal Server Error"}}}},"/task/{task-id}/assign":{"post":{"tags":["task-actions-controller"],"summary":"Assign the identified Task to a specified user.","operationId":"assignTaskUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"assignTaskRequest","description":"assignTaskRequest","required":true,"schema":{"$ref":"#/definitions/AssignTaskRequest"}},{"name":"Authorization","in":"header","description":"Authorization","required":true,"type":"string"},{"in":"header","name":"ServiceAuthorization","description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","required":true},{"name":"task-id","in":"path","description":"task-id","required":true,"type":"string"}],"responses":{"204":{"description":"Task assigned","schema":{"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"415":{"description":"Unsupported Media Type"},"500":{"description":"Internal Server Error"}}}},"/task/{task-id}/cancel":{"post":{"tags":["task-actions-controller"],"summary":"Cancel a Task identified by an id.","operationId":"cancelTaskUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"Authorization","in":"header","description":"Authorization","required":true,"type":"string"},{"in":"header","name":"ServiceAuthorization","description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","required":true},{"name":"task-id","in":"path","description":"task-id","required":true,"type":"string"}],"responses":{"204":{"description":"Task has been cancelled","schema":{"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"415":{"description":"Unsupported Media Type"},"500":{"description":"Internal Server Error"}}}},"/task/{task-id}/claim":{"post":{"tags":["task-actions-controller"],"summary":"Claim the identified Task for the currently logged in user.","operationId":"claimTaskUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"Authorization","in":"header","description":"Authorization","required":true,"type":"string"},{"in":"header","name":"ServiceAuthorization","description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","required":true},{"name":"task-id","in":"path","description":"task-id","required":true,"type":"string"}],"responses":{"204":{"description":"No content","schema":{"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"415":{"description":"Unsupported Media Type"},"500":{"description":"Internal Server Error"}}}},"/task/{task-id}/complete":{"post":{"tags":["task-actions-controller"],"summary":"Completes a Task identified by an id.","operationId":"completeTaskUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"Authorization","in":"header","description":"Authorization","required":true,"type":"string"},{"in":"body","name":"completeTaskRequest","description":"completeTaskRequest","required":false,"schema":{"$ref":"#/definitions/CompleteTaskRequest"}},{"name":"ServiceAuthorization","in":"header","description":"ServiceAuthorization","required":true,"type":"string"},{"name":"task-id","in":"path","description":"task-id","required":true,"type":"string"}],"responses":{"204":{"description":"Task has been completed","schema":{"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"415":{"description":"Unsupported Media Type"},"500":{"description":"Internal Server Error"}}}},"/task/{task-id}/unclaim":{"post":{"tags":["task-actions-controller"],"summary":"Unclaim the identified Task for the currently logged in user.","operationId":"unclaimTaskUsingPOST","consumes":["application/json"],"produces":["application/json"],"parameters":[{"name":"Authorization","in":"header","description":"Authorization","required":true,"type":"string"},{"in":"header","name":"ServiceAuthorization","description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","required":true},{"name":"task-id","in":"path","description":"task-id","required":true,"type":"string"}],"responses":{"204":{"description":"Task unclaimed","schema":{"type":"object"}},"400":{"description":"Bad Request"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"415":{"description":"Unsupported Media Type"},"500":{"description":"Internal Server Error"}}}}},"definitions":{"AssignTaskRequest":{"type":"object","properties":{"userId":{"type":"string"}},"title":"AssignTaskRequest"},"CompleteTaskRequest":{"type":"object","properties":{"completionOptions":{"$ref":"#/definitions/CompletionOptions"}},"title":"CompleteTaskRequest","description":"Allows specifying certain completion options"},"CompletionOptions":{"type":"object","properties":{"assignAndComplete":{"type":"boolean"}},"title":"CompletionOptions","description":"Completion mode options"},"ConfigureTaskRequest":{"type":"object","properties":{"processVariables":{"type":"object"}},"title":"ConfigureTaskRequest"},"ConfigureTaskResponse":{"type":"object","properties":{"assignee":{"type":"string"},"caseId":{"type":"string"},"configurationVariables":{"type":"object"},"taskId":{"type":"string"}},"title":"ConfigureTaskResponse"},"ExecutionTypeResource":{"type":"object","properties":{"description":{"type":"string"},"executionCode":{"type":"string","enum":["BUILT_IN","CASE_EVENT","MANUAL"]},"executionName":{"type":"string"}},"title":"ExecutionTypeResource"},"GetTaskResponse":{"type":"object","properties":{"task":{"$ref":"#/definitions/Task"}},"title":"GetTaskResponse"},"GetTaskResponse«Task»":{"type":"object","properties":{"task":{"$ref":"#/definitions/Task"}},"title":"GetTaskResponse«Task»"},"GetTasksCompletableResponse":{"type":"object","properties":{"taskRequiredForEvent":{"type":"boolean"},"tasks":{"type":"array","items":{"$ref":"#/definitions/Task"}}},"title":"GetTasksCompletableResponse"},"GetTasksCompletableResponse«Task»":{"type":"object","properties":{"taskRequiredForEvent":{"type":"boolean"},"tasks":{"type":"array","items":{"$ref":"#/definitions/Task"}}},"title":"GetTasksCompletableResponse«Task»"},"GetTasksResponse":{"type":"object","properties":{"tasks":{"type":"array","items":{"$ref":"#/definitions/Task"}},"totalRecords":{"type":"integer","format":"int64"}},"title":"GetTasksResponse"},"GetTasksResponse«Task»":{"type":"object","properties":{"tasks":{"type":"array","items":{"$ref":"#/definitions/Task"}},"totalRecords":{"type":"integer","format":"int64"}},"title":"GetTasksResponse«Task»"},"InitiateTaskRequest":{"type":"object","properties":{"operation":{"type":"string","enum":["INITIATION"]},"taskAttributes":{"type":"array","items":{"$ref":"#/definitions/TaskAttribute"}}},"title":"InitiateTaskRequest","description":"Allows specifying certain operations to initiate a task"},"NoteResource":{"type":"object","properties":{"created":{"type":"string","format":"date-time"},"noteType":{"type":"string"},"user":{"type":"string"}},"title":"NoteResource"},"SearchEventAndCase":{"type":"object","required":["case_id","case_jurisdiction","case_type","event_id"],"properties":{"case_id":{"type":"string"},"case_jurisdiction":{"type":"string"},"case_type":{"type":"string"},"event_id":{"type":"string"}},"title":"SearchEventAndCase","description":"Search task request with event and case id"},"SearchParameter":{"type":"object","required":["key","values"],"properties":{"key":{"type":"string","example":"user","enum":["jurisdiction","location","state","user"]},"operator":{"type":"string","example":"IN","enum":["IN"]},"values":{"type":"array","example":"998db99b-08aa-43d4-bc6b-0aabbb0e3c6f","items":{"type":"string"}}},"title":"SearchParameter","description":"Search parameter containing the key, operator and a list of values"},"SearchTaskRequest":{"type":"object","required":["searchParameters"],"properties":{"searchParameters":{"type":"array","description":"https://tools.hmcts.net/confluence/display/WA/WA+Task+Management+API+Guidelines","items":{"$ref":"#/definitions/SearchParameter"}},"sortingParameters":{"type":"array","items":{"$ref":"#/definitions/SortingParameter"}}},"title":"SearchTaskRequest","description":"Search task request containing a list of parameters"},"SortingParameter":{"type":"object","required":["sortBy","sortOrder"],"properties":{"sortBy":{"type":"string","example":"due_date","description":"Support snake_case and camelCase values","enum":["caseCategory","caseId","caseName","case_category","case_id","case_name","dueDate","due_date","locationName","location_name","taskTitle","task_title"]},"sortOrder":{"type":"string","example":"asc","enum":["asc","desc"]}},"title":"SortingParameter","description":"Sorting parameter containing the field to sort on and the order"},"Task":{"type":"object","required":["assignee","autoAssigned","caseCategory","caseId","caseName","caseTypeId","executionType","id","jurisdiction","location","locationName","name","region","securityClassification","taskState","taskSystem","taskTitle","type"],"properties":{"assignee":{"type":"string","description":"The single user who has been assigned this task i.e. IDAM ID"},"autoAssigned":{"type":"boolean","description":"If TRUE then task was auto-assigned, otherwise FALSE"},"caseCategory":{"type":"string","description":" Case category  to display in task list UI"},"caseId":{"type":"string","description":" Case ID to display in task list UI"},"caseManagementCategory":{"type":"string","description":"A value describing the category of the case, for IA, it has the same value as the AppealType field"},"caseName":{"type":"string","description":" Case name to display in task list UI"},"caseTypeId":{"type":"string","description":" The CCD case type ID"},"createdDate":{"type":"string","format":"date-time","example":"2020-09-05T14:47:01.250542+01:00","description":"Optional due date for the task that will be created"},"dueDate":{"type":"string","format":"date-time","example":"2020-09-05T14:47:01.250542+01:00","description":"Optional due date for the task that will be created"},"executionType":{"type":"string","description":"Indicator to the user interface of how this task is to be executed. For MVP, this will always be \"Case Management Task\""},"id":{"type":"string","description":"Unique identifier for the task"},"jurisdiction":{"type":"string","description":"For MVP, will always be \"IA\""},"location":{"type":"string","description":"The ePims ID for the physical location"},"locationName":{"type":"string","description":"`location to display in task list UI"},"name":{"type":"string","description":"Name of the task assigned in the process model"},"region":{"type":"string","description":" The region ID. For IAC is always \"1\" (national)"},"securityClassification":{"type":"string","description":"The security classification of the main business entity this task relates to. Can be PUBLIC, PRIVATE, RESTRICTED"},"taskState":{"type":"string","description":"unconfigured, unassigned, configured, assigned, referred, completed, cancelled"},"taskSystem":{"type":"string","description":" Code indicating the system which is responsible for this task. For MVP will be always SELF"},"taskTitle":{"type":"string","description":"Task title to display in task list UI"},"type":{"type":"string","description":"Unique identifier for the conceptual business task"},"warningList":{"description":"A list of values containing a warning code and warning text","$ref":"#/definitions/Warning"},"warnings":{"type":"boolean"}},"title":"Task"},"TaskAttribute":{"type":"object","properties":{"name":{"type":"string","enum":["TASK_ASSIGNEE","TASK_ASSIGNMENT_EXPIRY","TASK_AUTO_ASSIGNED","TASK_BUSINESS_CONTEXT","TASK_CASE_ID","TASK_CASE_NAME","TASK_CASE_TYPE_ID","TASK_CREATED","TASK_DESCRIPTION","TASK_DUE_DATE","TASK_EXECUTION_TYPE_CODE","TASK_HAS_WARNINGS","TASK_JURISDICTION","TASK_LOCATION","TASK_LOCATION_NAME","TASK_MAJOR_PRIORITY","TASK_MINOR_PRIORITY","TASK_NAME","TASK_NOTES","TASK_REGION","TASK_REGION_NAME","TASK_ROLES","TASK_ROLE_CATEGORY","TASK_SECURITY_CLASSIFICATION","TASK_STATE","TASK_SYSTEM","TASK_TERMINATION_REASON","TASK_TITLE","TASK_TYPE","TASK_WORK_TYPE"]},"value":{"type":"object"}},"title":"TaskAttribute","description":"Name of attribute and value"},"TaskResource":{"type":"object","properties":{"assignee":{"type":"string"},"assignmentExpiry":{"type":"string","format":"date-time"},"autoAssigned":{"type":"boolean"},"businessContext":{"type":"string","enum":["CFT_TASK"]},"caseId":{"type":"string"},"caseName":{"type":"string"},"caseTypeId":{"type":"string"},"created":{"type":"string","format":"date-time"},"description":{"type":"string"},"dueDateTime":{"type":"string","format":"date-time"},"executionTypeCode":{"$ref":"#/definitions/ExecutionTypeResource"},"hasWarnings":{"type":"boolean"},"jurisdiction":{"type":"string"},"location":{"type":"string"},"locationName":{"type":"string"},"majorPriority":{"type":"integer","format":"int32"},"minorPriority":{"type":"integer","format":"int32"},"notes":{"$ref":"#/definitions/NoteResource"},"region":{"type":"string"},"regionName":{"type":"string"},"roleCategory":{"type":"string"},"securityClassification":{"type":"string","enum":["PRIVATE","PUBLIC","RESTRICTED"]},"state":{"type":"string","enum":["ASSIGNED","CANCELLED","COMPLETED","PENDING_AUTO_ASSIGN","PENDING_RECONFIGURATION","TERMINATED","UNASSIGNED","UNCONFIGURED"]},"taskId":{"type":"string"},"taskName":{"type":"string"},"taskRoleResources":{"type":"array","uniqueItems":true,"items":{"$ref":"#/definitions/TaskRoleResource"}},"taskSystem":{"type":"string","enum":["CTSC","SELF"]},"taskType":{"type":"string"},"terminationReason":{"type":"string"},"title":{"type":"string"},"workTypeResource":{"$ref":"#/definitions/WorkTypeResource"}},"title":"TaskResource"},"TaskRoleResource":{"type":"object","properties":{"assignmentPriority":{"type":"integer","format":"int32"},"authorizations":{"type":"array","items":{"type":"string"}},"autoAssignable":{"type":"boolean"},"cancel":{"type":"boolean"},"created":{"type":"string","format":"date-time"},"execute":{"type":"boolean"},"manage":{"type":"boolean"},"own":{"type":"boolean"},"read":{"type":"boolean"},"refer":{"type":"boolean"},"roleCategory":{"type":"string"},"roleName":{"type":"string"},"taskId":{"type":"string"},"taskResource":{"$ref":"#/definitions/TaskResource"},"taskRoleId":{"type":"string","format":"uuid"}},"title":"TaskRoleResource"},"TerminateTaskRequest":{"type":"object","properties":{"terminateInfo":{"$ref":"#/definitions/TerminationInfo"}},"title":"TerminateTaskRequest","description":"Allows specifying certain termination options"},"TerminationInfo":{"type":"object","properties":{"terminateReason":{"type":"string","enum":["CANCELLED","COMPLETED"]}},"title":"TerminationInfo","description":"Termination additional data"},"Warning":{"type":"object","properties":{"warningCode":{"type":"string","description":"A code that distinguishes which Warning is to be applied "},"warningText":{"type":"string","description":"Text associated to the warning code that can be shown in the UI"}},"title":"Warning","description":"Warning object containing the field to sort on and the order"},"WorkTypeResource":{"type":"object","properties":{"id":{"type":"string"},"label":{"type":"string"}},"title":"WorkTypeResource"}}}
