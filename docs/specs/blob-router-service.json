{"openapi":"3.1.0","info":{"title":"Blob Router API","description":"Blob Router handlers","version":"v0.0.1"},"servers":[{"url":"http://localhost","description":"Generated server url"}],"paths":{"/reconciliation-report/{date}":{"post":{"tags":["reconciliation-controller"],"description":"Saves supplier statements report for given date","operationId":"uploadSupplierReport","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"type":"string"}},{"name":"date","in":"path","required":true,"schema":{"type":"string","format":"date"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SupplierStatement"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"400":{"description":"Request failed due to malformed syntax in either body or path parameter","content":{"*/*":{"schema":{"oneOf":[{"type":"object","additionalProperties":{"type":"string"}},{"$ref":"#/components/schemas/ErrorResponse"}]}}}},"401":{"description":"Invalid API Key","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"The report has been accepted","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SuccessfulResponse"}}}}}}},"/token/{serviceName}":{"get":{"tags":["sas-token-controller"],"operationId":"getSasToken","parameters":[{"name":"serviceName","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"oneOf":[{"type":"object","additionalProperties":{"type":"string"}},{"$ref":"#/components/schemas/ErrorResponse"}]}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SasTokenResponse"}}}}}}}},"components":{"schemas":{"ErrorResponse":{"type":"object","properties":{"message":{"type":"string"}}},"Envelope":{"type":"object","properties":{"zip_file_name":{"type":"string","writeOnly":true},"rescan_for":{"type":"string","writeOnly":true},"container":{"type":"string"},"jurisdiction":{"type":"string"},"scannable_item_dcns":{"type":"array","items":{"type":"string"},"writeOnly":true},"payment_dcns":{"type":"array","items":{"type":"string"},"writeOnly":true},"zipFileName":{"type":"string"},"rescanFor":{"type":"string"},"scannableItemDcns":{"type":"array","items":{"type":"string"}},"paymentDcns":{"type":"array","items":{"type":"string"}}},"required":["container","jurisdiction"]},"SupplierStatement":{"type":"object","properties":{"envelopes":{"type":"array","description":"List of envelopes uploaded","items":{"$ref":"#/components/schemas/Envelope"}}},"required":["envelopes"]},"SuccessfulResponse":{"type":"object","properties":{"id":{"type":"string","description":"ID under which Bulk Scanning has registered the report"},"warning":{"type":"string","description":"Warning related to the supplied statement"}}},"SasTokenResponse":{"type":"object","properties":{"SAS Token":{"type":"string","description":"Shared access token to access blobs"}}}}}}
