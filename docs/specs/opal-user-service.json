{"openapi":"3.0.1","info":{"description":"Opal User Service","license":{"name":"MIT","url":"https://opensource.org/licenses/MIT"},"title":"Opal User Service","version":"v0.0.1"},"externalDocs":{"description":"README","url":"https://github.com/hmcts/opal-user-service"},"servers":[{"url":"http://localhost","description":"Generated server url"}],"paths":{"/":{"get":{"operationId":"welcome","responses":{"200":{"content":{"*/*":{"schema":{"type":"string"}}},"description":"OK"}},"tags":["Root Controller"]}},"/internal-user/handle-oauth-code":{"post":{"operationId":"handleOauthCode","parameters":[{"in":"query","name":"code","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/SecurityToken"}}},"description":"OK"}},"summary":"Handles Oauth code for the front end API calls","tags":["Authentication Controller - Internal Users"]}},"/testing-support/app-mode":{"get":{"operationId":"getAppMode","responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/AppMode"}}},"description":"OK"}},"summary":"Retrieves the value for app mode.","tags":["Testing Support Controller"]},"put":{"operationId":"updateMode","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AppMode"}}},"required":true},"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/AppMode"}}},"description":"OK"}},"summary":"Updates the value for app mode.","tags":["Testing Support Controller"]}},"/testing-support/launchdarkly/bool/{featureKey}":{"get":{"operationId":"isFeatureEnabled","parameters":[{"in":"path","name":"featureKey","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"*/*":{"schema":{"type":"boolean"}}},"description":"OK"}},"tags":["Testing Support Controller"]}},"/testing-support/launchdarkly/string/{featureKey}":{"get":{"operationId":"getFeatureValue","parameters":[{"in":"path","name":"featureKey","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"*/*":{"schema":{"type":"string"}}},"description":"OK"}},"tags":["Testing Support Controller"]}},"/testing-support/token/parse":{"get":{"operationId":"parseToken","parameters":[{"in":"header","name":"Authorization","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"*/*":{"schema":{"type":"string"}}},"description":"OK"}},"tags":["Testing Support Controller"]}},"/testing-support/token/test-user":{"get":{"operationId":"getToken","responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/SecurityToken"}}},"description":"OK"}},"summary":"Retrieves the token for default test user","tags":["Testing Support Controller"]}},"/testing-support/token/user":{"get":{"operationId":"getTokenForUser","parameters":[{"in":"header","name":"X-User-Email","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/SecurityToken"}}},"description":"OK"}},"summary":"Retrieves the token for a given user","tags":["Testing Support Controller"]}}},"components":{"schemas":{"AppMode":{"type":"object","properties":{"mode":{"type":"string"}}},"BusinessUnitUser":{"type":"object","properties":{"businessUnitId":{"type":"integer","format":"int32"},"businessUnitUserId":{"type":"string"},"business_unit_id":{"type":"integer","format":"int32","writeOnly":true},"business_unit_user_id":{"type":"string","writeOnly":true},"permissions":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/Permission"}}}},"Permission":{"type":"object","properties":{"permissionId":{"type":"integer","format":"int64"},"permissionName":{"type":"string"},"permission_id":{"type":"integer","format":"int64","writeOnly":true},"permission_name":{"type":"string","writeOnly":true}}},"SecurityToken":{"type":"object","properties":{"access_token":{"type":"string"},"user_state":{"$ref":"#/components/schemas/UserState"}}},"UserState":{"type":"object","properties":{"businessUnitUser":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/BusinessUnitUser"}},"business_unit_user":{"uniqueItems":true,"type":"array","writeOnly":true,"items":{"$ref":"#/components/schemas/BusinessUnitUser"}},"userId":{"type":"integer","format":"int64"},"userName":{"type":"string"},"user_id":{"type":"integer","format":"int64","writeOnly":true},"user_name":{"type":"string","writeOnly":true}}}}}}
