{"openapi":"3.1.0","info":{"description":"pcs api","license":{"name":"MIT","url":"https://opensource.org/licenses/MIT"},"title":"pcs api","version":"v0.0.1"},"externalDocs":{"description":"README","url":"https://github.com/hmcts/pcs-api"},"servers":[{"url":"http://localhost","description":"Generated server url"}],"security":[{"AuthorizationToken":[],"ServiceAuthorization":[]}],"paths":{"/":{"get":{"operationId":"welcome","responses":{"200":{"content":{"*/*":{"schema":{"type":"string"}}},"description":"OK"}},"tags":["root-controller"]}},"/courts":{"get":{"description":"Returns a list of courts matching the given postcode","operationId":"getCourts","parameters":[{"in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"in":"query","name":"postcode","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Court"}}}},"description":"Successful response with list of courts or empty list if no match found"},"400":{"description":"Missing or empty postcode query parameter"},"401":{"description":"Invalid or missing Authorization/Service Authorization header"},"403":{"description":"Unauthorised Service Authorization header"}},"summary":"Get courts by postcode","tags":["post-code-court-controller"]}},"/dashboard/{caseReference}/notifications":{"get":{"operationId":"getNotificationsForCase","parameters":[{"in":"path","name":"caseReference","required":true,"schema":{"type":"integer","format":"int64"}},{"in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DashboardNotification"}}}},"description":"Request successful"},"401":{"description":"Access token is missing or invalid"},"403":{"description":"Not authorised to use the endpoint"},"404":{"description":"Case reference not found"}},"summary":"Get the active dashboard notifications for a case","tags":["Dashboard"]}},"/dashboard/{caseReference}/tasks":{"get":{"operationId":"getTasksForCase","parameters":[{"in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"The unique identifier of the case to fetch tasks for","in":"path","name":"caseReference","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TaskGroup"}}}},"description":"Request successful"},"401":{"description":"Access token is missing or invalid"},"403":{"description":"Not authorised to use the endpoint"},"404":{"description":"Case reference not found"}},"summary":"Get the tasks associated with the dashboard for a case","tags":["Dashboard"]}},"/hearing/":{"post":{"operationId":"createHearing","parameters":[{"in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HearingRequest"}}},"required":true},"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/HearingResponse"}}},"description":"OK"}},"tags":["Hearings"]}},"/hearing/{id}":{"delete":{"operationId":"deleteHearing","parameters":[{"in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"in":"path","name":"id","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteHearingRequest"}}},"required":true},"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/HearingResponse"}}},"description":"OK"}},"tags":["Hearings"]},"get":{"operationId":"getHearing","parameters":[{"in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"in":"path","name":"id","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/GetHearingsResponse"}}},"description":"OK"}},"tags":["Hearings"]},"put":{"operationId":"updateHearing","parameters":[{"in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"in":"path","name":"id","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateHearingRequest"}}},"required":true},"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/HearingResponse"}}},"description":"OK"}},"tags":["Hearings"]}},"/testing-support/claim-eligibility":{"get":{"description":"Checks the eligibility for a given property postcode, and returns a payload with an eligibility status.","operationId":"getPostcodeEligibility","parameters":[{"description":"Property postcode to check eligibility for","in":"query","name":"postcode","required":true,"schema":{"type":"string"}},{"description":"Legislative country for property, (for use with cross border postcodes)","in":"query","name":"legislativeCountry","required":true,"schema":{"type":"string","enum":["England","Northern Ireland","Scotland","Wales"]}}],"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/EligibilityResult"}}},"description":"Eligibilty check completed successfully"},"500":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/EligibilityResult"}}},"description":"Internal server error"}},"summary":"Checks the eligibility for a given property postcode","tags":["Testing Support"]}},"/testing-support/db-scheduler-test":{"post":{"description":"Schedules a Hello World task to be executed after a specified delay. This endpoint is used for testing the database scheduler functionality.","operationId":"scheduleHelloWorldTask","parameters":[{"description":"Delay in seconds before task execution (default: 1)","example":5,"in":"query","name":"delaySeconds","required":false,"schema":{"type":"integer","format":"int32","default":1}},{"description":"Bearer token for user authentication (default: DummyId)","example":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","in":"header","name":"Authorization","required":false,"schema":{"type":"string","default":"DummyId"}},{"description":"Service-to-Service (S2S) authorization token","example":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"*/*":{"schema":{"type":"string"}}},"description":"Task scheduled successfully"},"401":{"content":{"*/*":{"schema":{"type":"string"}}},"description":"Unauthorized - Invalid or missing authorization token"},"403":{"content":{"*/*":{"schema":{"type":"string"}}},"description":"Forbidden - Invalid or missing service authorization token"},"500":{"content":{"*/*":{"schema":{"type":"string"}}},"description":"Internal server error"}},"summary":"Schedule a Hello World task","tags":["Testing Support"]}},"/testing-support/generate-document":{"post":{"description":"Generates a document by sending a request to the Doc Assembly service with template ID and form payload. Returns the URL of the generated document.","operationId":"generateDocument","parameters":[{"description":"Bearer token for user authentication","example":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Service-to-Service (S2S) authorization token","example":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocAssemblyRequest"}}},"required":true},"responses":{"201":{"content":{"*/*":{"schema":{"type":"string"}}},"description":"Document generated successfully"},"400":{"content":{"*/*":{"schema":{"type":"string"}}},"description":"Bad request - formPayload is required"},"401":{"content":{"*/*":{"schema":{"type":"string"}}},"description":"Unauthorized - Invalid or missing authorization token"},"403":{"content":{"*/*":{"schema":{"type":"string"}}},"description":"Forbidden - Invalid or missing service authorization token"},"500":{"content":{"*/*":{"schema":{"type":"string"}}},"description":"Internal server error"}},"summary":"Generate a document using Doc Assembly API","tags":["Testing Support"]}},"/testing-support/send-email":{"post":{"operationId":"sendEmail","parameters":[{"in":"header","name":"Authorization","required":false,"schema":{"type":"string","default":"DummyId"}},{"in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmailNotificationRequest"}}},"required":true},"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/EmailNotificationResponse"}}},"description":"OK"}},"tags":["notify-controller"]}}},"components":{"schemas":{"Attendee":{"type":"object","properties":{"hearingSubChannel":{"type":"string"},"partyID":{"type":"string"}}},"CaseCategory":{"type":"object","properties":{"categoryParent":{"type":"string"},"categoryType":{"type":"string"},"categoryValue":{"type":"string"}}},"CaseDetails":{"type":"object","properties":{"caseAdditionalSecurityFlag":{"type":"boolean"},"caseCategories":{"type":"array","items":{"$ref":"#/components/schemas/CaseCategory"}},"caseDeepLink":{"type":"string"},"caseInterpreterRequiredFlag":{"type":"boolean"},"caseManagementLocationCode":{"type":"string"},"caseRef":{"type":"string"},"caseSLAStartDate":{"type":"string","format":"date"},"caserestrictedFlag":{"type":"boolean"},"externalCaseReference":{"type":"string"},"hmctsInternalCaseName":{"type":"string"},"hmctsServiceCode":{"type":"string"},"publicCaseName":{"type":"string"}}},"CaseHearing":{"type":"object","properties":{"hearingChannels":{"type":"array","items":{"type":"string"}},"hearingDaySchedule":{"type":"array","items":{"$ref":"#/components/schemas/HearingDaySchedule"}},"hearingGroupRequestId":{"type":"string"},"hearingID":{"type":"integer","format":"int64"},"hearingIsLinkedFlag":{"type":"boolean"},"hearingListingStatus":{"type":"string"},"hearingRequestDateTime":{"type":"string","format":"date-time"},"hearingType":{"type":"string"},"hmcStatus":{"type":"string"},"lastResponseReceivedDateTime":{"type":"string","format":"date-time"},"listAssistCaseStatus":{"type":"string"},"requestVersion":{"type":"integer","format":"int32"}}},"Court":{"type":"object","properties":{"epimId":{"type":"integer","format":"int32"},"id":{"type":"integer","format":"int32"},"name":{"type":"string"}}},"DashboardNotification":{"type":"object","properties":{"templateId":{"type":"string","description":"ID of notification message template","examples":["Notice.AAA3.ClaimIssue.ClaimFee.Required"]},"templateValues":{"type":"object","additionalProperties":{},"description":"Template values for substitution","examples":["     {\n        \"appointmentTime\": \"2025-05-20T10:30:00Z\",\n        \"location\": \"London\",\n        \"amount\": 76.15,\n        \"dueDate\": \"2025-05-14\"\n     }\n"]}}},"DeleteHearingRequest":{"type":"object","properties":{"cancellationReasonCodes":{"type":"array","items":{"type":"string"}}}},"DocAssemblyRequest":{"type":"object","description":"Document generation request containing template ID and form data","properties":{"formPayload":{"type":"object","additionalProperties":{},"description":"Form data payload containing the values to populate the template","example":{"applicantName":"John Doe","caseNumber":"1234567890","dateOfBirth":"1990-01-01"}},"outputType":{"type":"string","description":"Output format for the generated document","enum":["PDF","DOCX","DOC"],"example":"PDF"},"templateId":{"type":"string","description":"Template ID for the document to be generated","example":"CV-SPC-CLM-ENG-00001"}},"required":["formPayload","templateId"]},"EligibilityResult":{"type":"object","properties":{"epimsId":{"type":"integer","format":"int32"},"legislativeCountries":{"type":"array","items":{"type":"string","enum":["England","Northern Ireland","Scotland","Wales"]}},"legislativeCountry":{"type":"string","enum":["England","Northern Ireland","Scotland","Wales"]},"status":{"type":"string","enum":["ELIGIBLE","NOT_ELIGIBLE","LEGISLATIVE_COUNTRY_REQUIRED","NO_MATCH_FOUND","MULTIPLE_MATCHES_FOUND"]}}},"EmailNotificationRequest":{"type":"object","properties":{"emailAddress":{"type":"string"},"emailReplyToId":{"type":"string"},"personalisation":{"type":"object","additionalProperties":{}},"reference":{"type":"string"},"templateId":{"type":"string"}}},"EmailNotificationResponse":{"type":"object","properties":{"notificationId":{"type":"string","format":"uuid"},"status":{"type":"string"},"taskId":{"type":"string"}}},"GetHearingsResponse":{"type":"object","properties":{"caseHearings":{"type":"array","items":{"$ref":"#/components/schemas/CaseHearing"}},"caseRef":{"type":"string"},"hmctsServiceCode":{"type":"string"}}},"HearingDaySchedule":{"type":"object","properties":{"attendees":{"type":"array","items":{"$ref":"#/components/schemas/Attendee"}},"hearingEndDateTime":{"type":"string","format":"date-time"},"hearingJudgeId":{"type":"string"},"hearingRoomId":{"type":"string"},"hearingStartDateTime":{"type":"string","format":"date-time"},"hearingVenueId":{"type":"string"},"listAssistSessionID":{"type":"string"},"panelMemberIds":{"type":"array","items":{"type":"string"}}}},"HearingDetails":{"type":"object","properties":{"amendReasonCodes":{"type":"array","items":{"type":"string"}},"autolistFlag":{"type":"boolean"},"duration":{"type":"integer","format":"int32"},"facilitiesRequired":{"type":"array","items":{"type":"string"}},"hearingChannels":{"type":"array","items":{"type":"string"}},"hearingInWelshFlag":{"type":"boolean"},"hearingIsLinkedFlag":{"type":"boolean"},"hearingLocations":{"type":"array","items":{"$ref":"#/components/schemas/HearingLocation"}},"hearingPriorityType":{"type":"string"},"hearingRequester":{"type":"string"},"hearingType":{"type":"string"},"hearingWindow":{"$ref":"#/components/schemas/HearingWindow"},"leadJudgeContractType":{"type":"string"},"listingAutoChangeReasonCode":{"type":"string"},"listingComments":{"type":"string"},"multiDayHearing":{"type":"boolean"},"nonStandardHearingDurationReasons":{"type":"array","items":{"type":"string"}},"numberOfPhysicalAttendees":{"type":"integer","format":"int32"},"panelRequirements":{"$ref":"#/components/schemas/PanelRequirements"},"privateHearingRequiredFlag":{"type":"boolean"}}},"HearingLocation":{"type":"object","properties":{"locationId":{"type":"string"},"locationType":{"type":"string"}}},"HearingRequest":{"type":"object","properties":{"caseDetails":{"$ref":"#/components/schemas/CaseDetails"},"hearingDetails":{"$ref":"#/components/schemas/HearingDetails"},"partyDetails":{"type":"array","items":{"$ref":"#/components/schemas/PartyDetails"}},"requestDetails":{"$ref":"#/components/schemas/RequestDetails"}}},"HearingResponse":{"type":"object","properties":{"hearingRequestID":{"type":"integer","format":"int64"},"partiesNotified":{"type":"string","format":"date-time"},"requestVersion":{"type":"integer","format":"int32"},"responseVersion":{"type":"integer","format":"int32"},"serviceData":{"type":"object","additionalProperties":{}},"status":{"type":"string"},"timeStamp":{"type":"string","format":"date-time"},"versionNumber":{"type":"integer","format":"int32"}}},"HearingWindow":{"type":"object","properties":{"dateRangeEnd":{"type":"string","format":"date"},"dateRangeStart":{"type":"string","format":"date"},"firstDateTimeMustBe":{"type":"string","format":"date-time"}}},"IndividualDetails":{"type":"object","properties":{"custodyStatus":{"type":"string"},"firstName":{"type":"string"},"hearingChannelEmail":{"type":"array","items":{"type":"string"}},"hearingChannelPhone":{"type":"array","items":{"type":"string"}},"interpreterLanguage":{"type":"string"},"lastName":{"type":"string"},"otherReasonableAdjustmentDetails":{"type":"string"},"preferredHearingChannel":{"type":"string"},"reasonableAdjustments":{"type":"array","items":{"type":"string"}},"relatedParties":{"type":"array","items":{"$ref":"#/components/schemas/RelatedParty"}},"title":{"type":"string"},"vulnerabilityDetails":{"type":"string"},"vulnerableFlag":{"type":"boolean"}}},"OrganisationDetails":{"type":"object","properties":{"cftOrganisationID":{"type":"string"},"name":{"type":"string"},"organisationType":{"type":"string"}}},"PanelPreference":{"type":"object","properties":{"memberID":{"type":"string"},"memberType":{"type":"string"},"requirementType":{"type":"string"}}},"PanelRequirements":{"type":"object","properties":{"authorisationSubType":{"type":"array","items":{"type":"string"}},"authorisationTypes":{"type":"array","items":{"type":"string"}},"panelPreferences":{"type":"array","items":{"$ref":"#/components/schemas/PanelPreference"}},"panelSpecialisms":{"type":"array","items":{"type":"string"}},"roleType":{"type":"array","items":{"type":"string"}}}},"PartyDetails":{"type":"object","properties":{"individualDetails":{"$ref":"#/components/schemas/IndividualDetails"},"organisationDetails":{"$ref":"#/components/schemas/OrganisationDetails"},"partyChannelSubType":{"type":"string"},"partyID":{"type":"string"},"partyRole":{"type":"string"},"partyType":{"type":"string"},"unavailabilityDOW":{"type":"array","items":{"$ref":"#/components/schemas/UnavailabilityDow"}},"unavailabilityRanges":{"type":"array","items":{"$ref":"#/components/schemas/UnavailabilityRanges"}}}},"RelatedParty":{"type":"object","properties":{"relatedPartyID":{"type":"string"},"relationshipType":{"type":"string"}}},"RequestDetails":{"type":"object","properties":{"versionNumber":{"type":"integer","format":"int32"}}},"Task":{"type":"object","properties":{"status":{"type":"string"},"templateId":{"type":"string"},"templateValues":{"type":"object","additionalProperties":{}}}},"TaskGroup":{"type":"object","properties":{"groupId":{"type":"string"},"tasks":{"type":"array","items":{"$ref":"#/components/schemas/Task"}}}},"UnavailabilityDow":{"type":"object","properties":{"DOW":{"type":"string"},"DOWUnavailabilityType":{"type":"string"}}},"UnavailabilityRanges":{"type":"object","properties":{"unavailabilityType":{"type":"string"},"unavailableFromDate":{"type":"string","format":"date"},"unavailableToDate":{"type":"string","format":"date"}}},"UpdateHearingRequest":{"type":"object","properties":{"caseDetails":{"$ref":"#/components/schemas/CaseDetails"},"hearingDetails":{"$ref":"#/components/schemas/HearingDetails"},"partyDetails":{"type":"array","items":{"$ref":"#/components/schemas/PartyDetails"}},"requestDetails":{"$ref":"#/components/schemas/RequestDetails"}}}},"securitySchemes":{"AuthorizationToken":{"bearerFormat":"JWT","in":"header","name":"Authorization","scheme":"bearer","type":"http"},"ServiceAuthorization":{"in":"header","name":"ServiceAuthorization","type":"apiKey"}}}}
