{"openapi":"3.0.1","info":{"description":"Opal Fines Service","license":{"name":"MIT","url":"https://opensource.org/licenses/MIT"},"title":"Opal Fines Service","version":"v0.0.1"},"externalDocs":{"description":"README","url":"https://github.com/hmcts/opal-fines-service"},"servers":[{"url":"http://localhost","description":"Generated server url"}],"paths":{"/":{"get":{"operationId":"welcome","responses":{"200":{"content":{"*/*":{"schema":{"type":"string"}}},"description":"OK"}},"tags":["root-controller"]}},"/api/defendant-account":{"get":{"operationId":"getDefendantAccount","parameters":[{"in":"query","name":"businessUnitId","required":true,"schema":{"type":"integer","format":"int32"}},{"in":"query","name":"accountNumber","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/DefendantAccountEntity"}}},"description":"OK"}},"summary":"Searches for a defendant account in the Opal DB","tags":["defendant-account-controller"]},"put":{"operationId":"putDefendantAccount","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefendantAccountEntity"}}},"required":true},"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/DefendantAccountEntity"}}},"description":"OK"}},"summary":"Updates defendant account information","tags":["defendant-account-controller"]}},"/api/defendant-account/search":{"post":{"operationId":"postDefendantAccountSearch","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountSearchDto"}}},"required":true},"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/AccountSearchResultsDto"}}},"description":"OK"}},"summary":"Searches defendant accounts based upon criteria in request body","tags":["defendant-account-controller"]}},"/api/defendant-account/{businessUnit}":{"get":{"operationId":"getDefendantAccountsByBusinessUnit","parameters":[{"in":"path","name":"businessUnit","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DefendantAccountEntity"}}}},"description":"OK"}},"summary":"Returns all defendant accounts within a business unit","tags":["defendant-account-controller"]}},"/api/notes":{"post":{"operationId":"createNote","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteDto"}}},"required":true},"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/NoteDto"}}},"description":"OK"}},"summary":"Creates a new note in the Opal Fines Notes table assigning an ID.","tags":["note-controller"]}},"/api/testing-support/app-mode":{"get":{"operationId":"getAppMode","responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/AppMode"}}},"description":"OK"}},"summary":"Retrieves the value for app mode.","tags":["testing-support-controller"]},"put":{"operationId":"updateMode","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AppMode"}}},"required":true},"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/AppMode"}}},"description":"OK"}},"summary":"Updates the value for app mode.","tags":["testing-support-controller"]}},"/api/testing-support/launchdarkly/bool/{featureKey}":{"get":{"operationId":"isFeatureEnabled","parameters":[{"in":"path","name":"featureKey","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"*/*":{"schema":{"type":"boolean"}}},"description":"OK"}},"tags":["testing-support-controller"]}},"/api/testing-support/launchdarkly/string/{featureKey}":{"get":{"operationId":"getFeatureValue","parameters":[{"in":"path","name":"featureKey","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"*/*":{"schema":{"type":"string"}}},"description":"OK"}},"tags":["testing-support-controller"]}}},"components":{"schemas":{"AccountSearchDto":{"type":"object","properties":{"address":{"type":"string"},"dateOfBirth":{"type":"string","format":"date"},"forename":{"type":"string"},"initials":{"type":"string"},"majorCreditor":{"type":"string"},"nameOrAccountNo":{"type":"string"},"niNumber":{"type":"string"},"pcr":{"type":"string"},"searchType":{"type":"string"},"tillNumber":{"type":"string"}}},"AccountSearchResultsDto":{"type":"object","properties":{"count":{"type":"integer","format":"int32"},"cursor":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"searchResults":{"type":"array","items":{"$ref":"#/components/schemas/AccountSummaryDto"}},"totalCount":{"type":"integer","format":"int32"}}},"AccountSummaryDto":{"type":"object","properties":{"accountNo":{"type":"string"},"addressLine1":{"type":"string"},"balance":{"type":"number"},"court":{"type":"string"},"dateOfBirth":{"type":"string","format":"date"},"name":{"type":"string"}}},"AppMode":{"type":"object","properties":{"mode":{"type":"string"}}},"DefendantAccountEntity":{"type":"object","properties":{"accountBalance":{"type":"number"},"accountNumber":{"type":"string"},"accountStatus":{"type":"string"},"allowCheques":{"type":"boolean"},"allowWriteoffs":{"type":"boolean"},"amountImposed":{"type":"number"},"amountPaid":{"type":"number"},"businessUnitId":{"type":"integer","format":"int32"},"chequeClearancePeriod":{"type":"integer","format":"int32"},"collectionOrder":{"type":"boolean"},"collectionOrderEffectiveDate":{"type":"string","format":"date-time"},"completedDate":{"type":"string","format":"date-time"},"confiscationOrderDate":{"type":"string","format":"date-time"},"consolidatedAccountType":{"type":"string"},"creditTransferClearancePeriod":{"type":"integer","format":"int32"},"defendantAccountId":{"type":"integer","format":"int64"},"enforcementCaseStatus":{"type":"string"},"enforcementOverrideEnforcerId":{"type":"integer","format":"int64"},"enforcementOverrideResultId":{"type":"string"},"enforcementOverrideTfoLjaId":{"type":"integer","format":"int32"},"enforcingCourtId":{"type":"integer","format":"int64"},"fineRegistrationDate":{"type":"string","format":"date-time"},"furtherStepsNoticeDate":{"type":"string","format":"date-time"},"imposedHearingDate":{"type":"string","format":"date-time"},"imposingCourtId":{"type":"integer","format":"int64"},"lastChangedDate":{"type":"string","format":"date-time"},"lastEnforcement":{"type":"string"},"lastHearingCourtId":{"type":"integer","format":"int64"},"lastHearingDate":{"type":"string","format":"date-time"},"lastMovementDate":{"type":"string","format":"date-time"},"originatorName":{"type":"string"},"originatorReference":{"type":"string"},"originatorType":{"type":"string"},"paymentCardRequested":{"type":"boolean"},"paymentCardRequestedBy":{"type":"string"},"paymentCardRequestedDate":{"type":"string","format":"date-time"},"prosecutorCaseReference":{"type":"string"},"suspendedCommittalEnforcementId":{"type":"integer","format":"int64"},"unitFineDetail":{"type":"string"},"unitFineValue":{"type":"number"}}},"NoteDto":{"type":"object","properties":{"associatedRecordId":{"type":"string"},"associatedRecordType":{"type":"string"},"noteId":{"type":"integer","format":"int64"},"noteText":{"type":"string"},"noteType":{"type":"string"},"postedBy":{"type":"string"},"postedDate":{"type":"string","format":"date-time"}}}}}}
