{"openapi":"3.0.1","info":{"description":"Opal Fines Service","license":{"name":"MIT","url":"https://opensource.org/licenses/MIT"},"title":"Opal Fines Service","version":"v0.0.1"},"externalDocs":{"description":"README","url":"https://github.com/hmcts/opal-fines-service"},"servers":[{"url":"http://localhost","description":"Generated server url"}],"paths":{"/":{"get":{"operationId":"welcome","responses":{"200":{"content":{"*/*":{"schema":{"type":"string"}}},"description":"OK"}},"tags":["Root Controller"]}},"/api/defendant-account":{"get":{"operationId":"getDefendantAccount","parameters":[{"in":"query","name":"businessUnitId","required":true,"schema":{"type":"integer","format":"int32"}},{"in":"query","name":"accountNumber","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/DefendantAccountEntity"}}},"description":"OK"}},"summary":"Searches for a defendant account in the Opal DB","tags":["Defendant Account Controller"]},"put":{"operationId":"putDefendantAccount","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefendantAccountEntity"}}},"required":true},"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/DefendantAccountEntity"}}},"description":"OK"}},"summary":"Updates defendant account information","tags":["Defendant Account Controller"]}},"/api/defendant-account/details":{"get":{"operationId":"getAccountDetailsByAccountSummary","parameters":[{"in":"query","name":"accountSummary","required":true,"schema":{"$ref":"#/components/schemas/AccountSummaryDto"}}],"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/AccountDetailsDto"}}},"description":"OK"}},"summary":"Get defendant account details by providing the defendant account summary","tags":["Defendant Account Controller"]}},"/api/defendant-account/search":{"post":{"operationId":"postDefendantAccountSearch","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountSearchDto"}}},"required":true},"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/AccountSearchResultsDto"}}},"description":"OK"}},"summary":"Searches defendant accounts based upon criteria in request body","tags":["Defendant Account Controller"]}},"/api/defendant-account/{businessUnit}":{"get":{"operationId":"getDefendantAccountsByBusinessUnit","parameters":[{"in":"path","name":"businessUnit","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DefendantAccountEntity"}}}},"description":"OK"}},"summary":"Returns all defendant accounts within a business unit","tags":["Defendant Account Controller"]}},"/api/notes":{"post":{"operationId":"createNote","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NoteDto"}}},"required":true},"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/NoteDto"}}},"description":"OK"}},"summary":"Creates a new note in the Opal Fines Notes table assigning an ID.","tags":["Notes Controller"]}},"/api/party":{"post":{"operationId":"createParty","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartyDto"}}},"required":true},"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/PartyDto"}}},"description":"OK"}},"summary":"Creates a new party in the Opal Party table assigning an ID.","tags":["Party Controller"]}},"/api/party/{partyId}":{"get":{"operationId":"getParty","parameters":[{"in":"path","name":"partyId","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/PartyDto"}}},"description":"OK"}},"summary":"Returns a Party based upon the party id","tags":["Party Controller"]}},"/api/testing-support/app-mode":{"get":{"operationId":"getAppMode","responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/AppMode"}}},"description":"OK"}},"summary":"Retrieves the value for app mode.","tags":["Testing Support Controller"]},"put":{"operationId":"updateMode","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AppMode"}}},"required":true},"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/AppMode"}}},"description":"OK"}},"summary":"Updates the value for app mode.","tags":["Testing Support Controller"]}},"/api/testing-support/launchdarkly/bool/{featureKey}":{"get":{"operationId":"isFeatureEnabled","parameters":[{"in":"path","name":"featureKey","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"*/*":{"schema":{"type":"boolean"}}},"description":"OK"}},"tags":["Testing Support Controller"]}},"/api/testing-support/launchdarkly/string/{featureKey}":{"get":{"operationId":"getFeatureValue","parameters":[{"in":"path","name":"featureKey","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"*/*":{"schema":{"type":"string"}}},"description":"OK"}},"tags":["Testing Support Controller"]}},"/internal-user/handle-oauth-code":{"post":{"operationId":"handleOauthCode","parameters":[{"in":"query","name":"code","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/SecurityToken"}}},"description":"OK"}},"summary":"Handles Oauth code for the front end API calls","tags":["Authentication Controller - Internal Users"]}}},"components":{"schemas":{"AccountDetailsDto":{"type":"object","properties":{"accountCT":{"type":"string"},"accountNumber":{"type":"string"},"accountType":{"type":"string"},"address":{"type":"string"},"amountPaid":{"type":"number"},"arrears":{"type":"number"},"balance":{"type":"number"},"commencing":{"type":"string","format":"date"},"commentField":{"type":"array","items":{"type":"string"}},"daysInDefault":{"type":"integer","format":"int32"},"detailsChanged":{"type":"string","format":"date"},"dob":{"type":"string","format":"date"},"documentLanguage":{"type":"string"},"enforcementCourt":{"type":"integer","format":"int32"},"enforcer":{"type":"integer","format":"int32"},"fullName":{"type":"string"},"hearingLanguage":{"type":"string"},"imposed":{"type":"number"},"lastCourtAppAndCourtCode":{"type":"string"},"lastEnforcement":{"type":"string"},"lastMovement":{"type":"string","format":"date"},"lumpSum":{"type":"number"},"override":{"type":"string"},"paymentDetails":{"type":"string"},"pcr":{"type":"string"},"postCode":{"type":"string"},"sentencedDate":{"type":"string","format":"date"}}},"AccountSearchDto":{"type":"object","properties":{"addressLineOne":{"type":"string"},"court":{"type":"string"},"dateOfBirth":{"$ref":"#/components/schemas/DateDto"},"forename":{"type":"string"},"initials":{"type":"string"},"majorCreditor":{"type":"string"},"niNumber":{"type":"string"},"pcr":{"type":"string"},"searchType":{"type":"string"},"surname":{"type":"string"},"tillNumber":{"type":"string"}}},"AccountSearchResultsDto":{"type":"object","properties":{"count":{"type":"integer","format":"int32"},"cursor":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"searchResults":{"type":"array","items":{"$ref":"#/components/schemas/AccountSummaryDto"}},"totalCount":{"type":"integer","format":"int32"}}},"AccountSummaryDto":{"type":"object","properties":{"accountNo":{"type":"string"},"addressLine1":{"type":"string"},"balance":{"type":"number"},"court":{"type":"string"},"dateOfBirth":{"type":"string","format":"date"},"defendantAccountId":{"type":"integer","format":"int64"},"name":{"type":"string"}}},"AppMode":{"type":"object","properties":{"mode":{"type":"string"}}},"BusinessUnitsEntity":{"type":"object","properties":{"accountNumberPrefix":{"type":"string"},"businessUnitCode":{"type":"string"},"businessUnitId":{"type":"integer","format":"int32"},"businessUnitName":{"type":"string"},"businessUnitType":{"type":"string"},"parentBusinessUnitId":{"type":"integer","format":"int32"}}},"CourtsEntity":{"type":"object","properties":{"addressLine1":{"type":"string"},"addressLine1Cy":{"type":"string"},"addressLine2":{"type":"string"},"addressLine2Cy":{"type":"string"},"addressLine3":{"type":"string"},"addressLine3Cy":{"type":"string"},"businessUnitId":{"type":"integer","format":"int32"},"courtCode":{"type":"integer","format":"int32"},"courtId":{"type":"integer","format":"int64"},"localJusticeAreaId":{"type":"integer","format":"int32"},"name":{"type":"string"},"nameCy":{"type":"string"},"nationalCourtCode":{"type":"string"},"parentCourtId":{"type":"integer","format":"int64"},"postcode":{"type":"string"}}},"DateDto":{"type":"object","properties":{"dayOfBirth":{"type":"integer","format":"int32"},"monthOfBirth":{"type":"integer","format":"int32"},"yearOfBirth":{"type":"integer","format":"int32"}}},"DefendantAccountEntity":{"type":"object","properties":{"accountBalance":{"type":"number"},"accountNumber":{"type":"string"},"accountStatus":{"type":"string"},"allowCheques":{"type":"boolean"},"allowWriteoffs":{"type":"boolean"},"amountImposed":{"type":"number"},"amountPaid":{"type":"number"},"businessUnitId":{"$ref":"#/components/schemas/BusinessUnitsEntity"},"chequeClearancePeriod":{"type":"integer","format":"int32"},"collectionOrder":{"type":"boolean"},"collectionOrderEffectiveDate":{"type":"string","format":"date"},"completedDate":{"type":"string","format":"date"},"confiscationOrderDate":{"type":"string","format":"date"},"consolidatedAccountType":{"type":"string"},"creditTransferClearancePeriod":{"type":"integer","format":"int32"},"defendantAccountId":{"type":"integer","format":"int64"},"enforcementCaseStatus":{"type":"string"},"enforcementOverrideEnforcerId":{"type":"integer","format":"int64"},"enforcementOverrideResultId":{"type":"string"},"enforcementOverrideTfoLjaId":{"type":"integer","format":"int32"},"enforcingCourtId":{"$ref":"#/components/schemas/CourtsEntity"},"fineRegistrationDate":{"type":"string","format":"date"},"furtherStepsNoticeDate":{"type":"string","format":"date"},"imposedHearingDate":{"type":"string","format":"date"},"imposingCourtId":{"type":"integer","format":"int64"},"lastChangedDate":{"type":"string","format":"date"},"lastEnforcement":{"type":"string"},"lastHearingCourtId":{"$ref":"#/components/schemas/CourtsEntity"},"lastHearingDate":{"type":"string","format":"date"},"lastMovementDate":{"type":"string","format":"date"},"originatorName":{"type":"string"},"originatorReference":{"type":"string"},"originatorType":{"type":"string"},"parties":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/DefendantAccountPartiesEntity"}},"paymentCardRequested":{"type":"boolean"},"paymentCardRequestedBy":{"type":"string"},"paymentCardRequestedDate":{"type":"string","format":"date"},"prosecutorCaseReference":{"type":"string"},"suspendedCommittalEnforcementId":{"type":"integer","format":"int64"},"unitFineDetail":{"type":"string"},"unitFineValue":{"type":"number"}}},"DefendantAccountPartiesEntity":{"type":"object","properties":{"associationType":{"type":"string"},"debtor":{"type":"boolean"},"defendantAccount":{"$ref":"#/components/schemas/DefendantAccountEntity"},"defendantAccountPartyId":{"type":"integer","format":"int64"},"party":{"$ref":"#/components/schemas/PartyEntity"}}},"NoteDto":{"type":"object","properties":{"associatedRecordId":{"type":"string"},"associatedRecordType":{"type":"string"},"noteId":{"type":"integer","format":"int64"},"noteText":{"type":"string"},"noteType":{"type":"string"},"postedBy":{"type":"string"},"postedDate":{"type":"string","format":"date-time"}}},"PartyDto":{"type":"object","properties":{"accountNo":{"type":"string"},"accountType":{"type":"string"},"addressLine1":{"type":"string"},"addressLine2":{"type":"string"},"addressLine3":{"type":"string"},"addressLine4":{"type":"string"},"addressLine5":{"type":"string"},"age":{"type":"integer","format":"int32"},"amountImposed":{"type":"number"},"dateOfBirth":{"type":"string","format":"date"},"forenames":{"type":"string"},"initials":{"type":"string"},"lastChangedDate":{"type":"string","format":"date-time"},"niNumber":{"type":"string"},"organisation":{"type":"boolean"},"organisationName":{"type":"string"},"partyId":{"type":"integer","format":"int64"},"postcode":{"type":"string"},"surname":{"type":"string"},"title":{"type":"string"}}},"PartyEntity":{"type":"object","properties":{"accountNo":{"type":"string"},"accountType":{"type":"string"},"addressLine1":{"type":"string"},"addressLine2":{"type":"string"},"addressLine3":{"type":"string"},"addressLine4":{"type":"string"},"addressLine5":{"type":"string"},"age":{"type":"integer","format":"int32"},"amountImposed":{"type":"number"},"dateOfBirth":{"type":"string","format":"date"},"defendantAccounts":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/DefendantAccountPartiesEntity"}},"forenames":{"type":"string"},"initials":{"type":"string"},"lastChangedDate":{"type":"string","format":"date-time"},"niNumber":{"type":"string"},"organisation":{"type":"boolean"},"organisationName":{"type":"string"},"partyId":{"type":"integer","format":"int64"},"postcode":{"type":"string"},"surname":{"type":"string"},"title":{"type":"string"}}},"SecurityToken":{"type":"object","properties":{"accessToken":{"type":"string"}}}}}}
