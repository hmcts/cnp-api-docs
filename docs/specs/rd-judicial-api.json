{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://rd-judicial-api-aat.service.core-compute-aat.internal","description":"Generated server url"}],"paths":{"/refdata/judicial/users":{"post":{"tags":["jrd-users-controller"],"summary":"This API to return judicial user profiles along with their active appointments and authorisations for the given request CCD Service Name or Objectid or SIDAMID","description":"**IDAM Roles to access API** :\n jrd-system-user,\n jrd-admin","operationId":"refreshUserProfile","parameters":[{"name":"page_size","in":"header","required":false,"schema":{"type":"integer","format":"int32"}},{"name":"page_number","in":"header","required":false,"schema":{"type":"integer","format":"int32"}},{"name":"sort_direction","in":"header","required":false,"schema":{"type":"string"}},{"name":"sort_column","in":"header","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshRoleRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request"},"200":{"description":"The User profiles have been retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfileRefreshResponse"}}}},"404":{"description":"The User Profile data could not be found"},"403":{"description":"Forbidden Error: Access denied for invalid permissions"},"401":{"description":"Unauthorized Error : The requested resource is restricted and requires authentication"},"500":{"description":"Internal Server Error"}},"security":[{"Authorization":[]},{"ServiceAuthorization":[]}]}},"/refdata/judicial/users/search":{"post":{"tags":["jrd-users-controller"],"summary":"This endpoint will be used for user search based on partial query. When the consumers inputs any 3 characters, they will call this api to fetch the required result.","description":"**Valid IDAM role is required to access this endpoint**","operationId":"searchUsers","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserSearchRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request"},"200":{"description":"Retrieve the user profiles for the given request. ","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserSearchResponse"}}}},"401":{"description":"User Authentication Failed"},"403":{"description":"Unauthorized"},"500":{"description":"Internal Server Error"}},"security":[{"Authorization":[]},{"ServiceAuthorization":[]}]}},"/refdata/judicial/users/fetch":{"post":{"tags":["jrd-users-controller"],"summary":"This API returns judicial user profiles with their appointments and authorisations","description":"**IDAM Roles to access API** :\n jrd-system-user,\n jrd-admin","operationId":"fetchUsers","parameters":[{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","format":"int32"}},{"name":"page_number","in":"query","required":false,"schema":{"type":"integer","format":"int32"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRequest"}}},"required":true},"responses":{"400":{"description":"Bad Request"},"200":{"description":"Retrieve the set of judicial user profiles as per given request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrmResponse"}}}},"401":{"description":"User Authentication Failed"},"403":{"description":"Unauthorized"},"404":{"description":"No Users Found"},"500":{"description":"Internal Server Error"}},"security":[{"Authorization":[]},{"ServiceAuthorization":[]}]}},"/":{"get":{"tags":["welcome-controller"],"summary":"Welcome message for the Judicial API","operationId":"welcome","responses":{"200":{"description":"Welcome message","content":{"application/json":{"schema":{"type":"string"}}}}}}}},"components":{"schemas":{"RefreshRoleRequest":{"type":"object","properties":{"ccdServiceName":{"type":"string"},"object_ids":{"type":"array","items":{"type":"string"}},"sidam_ids":{"type":"array","items":{"type":"string"}},"personal_code":{"type":"array","items":{"type":"string"}}}},"AppointmentRefreshResponse":{"type":"object","properties":{"base_location_id":{"type":"string"},"epimms_id":{"type":"string"},"court_name":{"type":"string"},"cft_region_id":{"type":"string"},"cft_region":{"type":"string"},"location_id":{"type":"string"},"location":{"type":"string"},"is_principal_appointment":{"type":"string"},"appointment":{"type":"string"},"appointment_type":{"type":"string"},"service_code":{"type":"string"},"roles":{"type":"array","items":{"type":"string"}},"start_date":{"type":"string"},"end_date":{"type":"string"}}},"AuthorisationRefreshResponse":{"type":"object","properties":{"jurisdiction":{"type":"string"},"ticket_description":{"type":"string"},"ticket_code":{"type":"string"},"service_codes":{"type":"array","items":{"type":"string"}},"start_date":{"type":"string"},"end_date":{"type":"string"}}},"UserProfileRefreshResponse":{"type":"object","properties":{"sidam_id":{"type":"string"},"object_id":{"type":"string"},"known_as":{"type":"string"},"surname":{"type":"string"},"full_name":{"type":"string"},"post_nominals":{"type":"string"},"email_id":{"type":"string"},"personal_code":{"type":"string"},"appointments":{"type":"array","items":{"$ref":"#/components/schemas/AppointmentRefreshResponse"}},"authorisations":{"type":"array","items":{"$ref":"#/components/schemas/AuthorisationRefreshResponse"}}}},"UserSearchRequest":{"required":["searchString"],"type":"object","properties":{"searchString":{"pattern":"([a-zA-Z\\-\\s']){3,}+","type":"string","example":"string"},"serviceCode":{"pattern":"[a-zA-Z0-9]+","type":"string","example":"string"},"location":{"pattern":"[a-zA-Z0-9]+","type":"string","example":"string"}}},"UserSearchResponse":{"type":"object","properties":{"title":{"type":"string"},"knownAs":{"type":"string"},"surname":{"type":"string"},"fullName":{"type":"string"},"emailId":{"type":"string"},"idamId":{"type":"string"},"personalCode":{"type":"string"}}},"UserRequest":{"type":"object","properties":{"userIds":{"type":"array","items":{"type":"string"}}}},"AppointmentResponse":{"type":"object","properties":{"appointmentId":{"type":"string"},"roleId":{"type":"string"},"roleDescEn":{"type":"string"},"contractTypeId":{"type":"string"},"contractTypeDescEn":{"type":"string"},"baseLocationId":{"type":"string"},"regionId":{"type":"string"},"regionDescEn":{"type":"string"},"isPrincipalAppointment":{"type":"string"},"startDate":{"type":"string"},"endDate":{"type":"string"}}},"AuthorisationResponse":{"type":"object","properties":{"authorisationId":{"type":"string"},"jurisdiction":{"type":"string"}}},"OrmResponse":{"type":"object","properties":{"idamId":{"type":"string"},"appointments":{"type":"array","items":{"$ref":"#/components/schemas/AppointmentResponse"}},"authorisations":{"type":"array","items":{"$ref":"#/components/schemas/AuthorisationResponse"}}}}},"securitySchemes":{"Authorization":{"type":"http","scheme":"bearer","bearerFormat":"JWT"},"ServiceAuthorization":{"type":"apiKey","description":"ServiceAuthorization","name":"ServiceAuthorization","in":"header","bearerFormat":"JWT"}}}}
