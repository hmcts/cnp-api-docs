{"openapi":"3.0.1","info":{"title":"Bulk scan Orchestrator API","description":"Callback handlers","version":"v0.0.1"},"servers":[{"url":"http://localhost","description":"Generated server url"}],"paths":{"/payments/updated/retry/{id}":{"put":{"tags":["Payments - API for handling payments"],"summary":"Retry a failed updated payment","operationId":"retryUpdatedPayment","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"Payment by id not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UpdatePayment"}}}},"422":{"description":"Payment failed reprocessing","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UpdatePayment"}}}},"200":{"description":"Reprocess successful, returns updated entity","content":{"*/*":{"schema":{"$ref":"#/components/schemas/UpdatePayment"}}}}}}},"/payments/new/retry/{id}":{"put":{"tags":["Payments - API for handling payments"],"summary":"Retry a failed new payment","operationId":"retryNewPayment","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"404":{"description":"Payment by id not found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Payment"}}}},"422":{"description":"Payment failed reprocessing","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Payment"}}}},"200":{"description":"Reprocess successful, returns updated entity","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Payment"}}}}}}},"/callback/reclassify-exception-record":{"post":{"tags":["ccd-callback-controller"],"operationId":"reclassifyExceptionRecord","parameters":[{"name":"user-id","in":"header","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CcdCallbackRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CallbackResponse"}}}}}}},"/callback/create-new-case":{"post":{"tags":["ccd-callback-controller"],"operationId":"createCase","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"type":"string"}},{"name":"user-id","in":"header","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CcdCallbackRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CallbackResponse"}}}}}}},"/callback/attach_case":{"post":{"tags":["ccd-callback-controller"],"operationId":"attachToCase","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"type":"string"}},{"name":"user-id","in":"header","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CcdCallbackRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CallbackResponse"}}}}}}},"/payments/updated/failed":{"get":{"tags":["Payments - API for handling payments"],"summary":"Returns all updated payments in a failed status","operationId":"handleUpdatedPaymentFailure","responses":{"200":{"description":"All updated payments in a failed status returned","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UpdatePayment"}}}}}}}},"/payments/new/failed":{"get":{"tags":["Payments - API for handling payments"],"summary":"Returns all new payments that are in a failed status","operationId":"handleNewPaymentFailure","responses":{"200":{"description":"All new payments in a failed status returned","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Payment"}}}}}}}},"/feature-flags/{flag}":{"get":{"tags":["feature-flag-controller"],"operationId":"flagStatus","parameters":[{"name":"flag","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/callback-results":{"get":{"tags":["callback-result-controller"],"summary":"Retrieves callback results","description":"Returns an empty list when no callback results were found","operationId":"getCallbackResults","parameters":[{"name":"filters","in":"query","required":true,"schema":{"type":"object","additionalProperties":{"type":"string"}}}],"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CallbackResultListResponse"}}}}}}}},"components":{"schemas":{"UpdatePayment":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"envelopeId":{"type":"string"},"jurisdiction":{"type":"string"},"exceptionRecordRef":{"type":"string"},"newCaseRef":{"type":"string"},"status":{"type":"string","enum":["PENDING","COMPLETE","FAILED"]},"statusMessage":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"lastUpdatedAt":{"type":"string","format":"date-time"}}},"Payment":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"envelopeId":{"type":"string"},"ccdReference":{"type":"string"},"poBox":{"type":"string"},"jurisdiction":{"type":"string"},"service":{"type":"string"},"payments":{"type":"array","items":{"type":"string"}},"status":{"type":"string","enum":["PENDING","COMPLETE","FAILED"]},"statusMessage":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"lastUpdatedAt":{"type":"string","format":"date-time"},"exceptionRecord":{"type":"boolean"}}},"CaseDetails":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"jurisdiction":{"type":"string"},"state":{"type":"string"},"case_type_id":{"type":"string"},"created_date":{"type":"string","format":"date-time"},"last_modified":{"type":"string","format":"date-time"},"locked_by_user_id":{"type":"integer","format":"int32"},"security_level":{"type":"integer","format":"int32"},"case_data":{"type":"object","additionalProperties":{"type":"object"}},"security_classification":{"type":"string","enum":["PUBLIC","PRIVATE","RESTRICTED"]},"callback_response_status":{"type":"string"}}},"CcdCallbackRequest":{"type":"object","properties":{"event_id":{"type":"string","writeOnly":true},"case_details":{"$ref":"#/components/schemas/CaseDetails"},"ignore_warning":{"type":"boolean","writeOnly":true},"eventId":{"type":"string"},"caseDetails":{"$ref":"#/components/schemas/CaseDetails"},"ignoreWarnings":{"type":"boolean"}}},"CallbackResponse":{"type":"object"},"CallbackResultListResponse":{"type":"object","properties":{"callback-results":{"type":"array","items":{"$ref":"#/components/schemas/CallbackResultResponse"}},"count":{"type":"integer","format":"int32"}}},"CallbackResultResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"created_at":{"type":"string","format":"date-time"},"request_type":{"type":"string","enum":["CREATE_CASE","ATTACH_TO_CASE"]},"exception_record_id":{"type":"string"},"case_id":{"type":"string"}}}}}}
