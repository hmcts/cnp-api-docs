{"openapi":"3.1.0","info":{"title":"EM CCD Orchestrator","description":"Orchestrates callbacks from CCD relating to management and stitching of bundles. caseTypeId & jurisdictionId are required attributes for Documents to use CDAM.","version":"v1.0.1"},"servers":[{"url":"http://localhost","description":"Generated server url"}],"tags":[{"name":"Ccd Bundle Stitching Service","description":"Endpoint to stitch a Ccd Bundle."},{"name":"Bundle Stitching Service","description":"Endpoint to create and stitch a Bundle."},{"name":"Clone Bundle Service","description":"Endpoint to clone an existing Bundle."},{"name":"Stitching Callback Service","description":"Endpoint for Stitching complete callback."}],"paths":{"/api/stitching-complete-callback/{caseId}/{triggerId}/{bundleId}":{"post":{"tags":["Stitching Callback Service"],"summary":"Call back to update the Stitched Document details and the Stitched Status against the Bundlein the case in CCD.","operationId":"stitchingCompleteCallback","parameters":[{"name":"authorization","in":"header","description":"Authorization (Idam Bearer token)","required":true,"schema":{"type":"string"}},{"name":"serviceauthorization","in":"header","description":"Service Authorization (S2S Bearer token)","required":true,"schema":{"type":"string"}},{"name":"caseId","in":"path","description":"Case Id","required":true,"schema":{"type":"string"}},{"name":"triggerId","in":"path","description":"Trigger Id","required":true,"schema":{"type":"string"}},{"name":"bundleId","in":"path","description":"Bundle Id","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentTaskDTO"}}},"required":true},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CallbackException"}}}},"403":{"description":"Access Denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CallbackException"}}}}}}},"/api/stitch-ccd-bundles":{"post":{"tags":["Ccd Bundle Stitching Service"],"summary":"Creates and Stitches a Ccd Bundle. This is Synchronous call.","operationId":"stitchCcdBundles","parameters":[{"name":"authorization","in":"header","description":"Authorization (Idam Bearer token)","required":true,"schema":{"type":"string"}},{"name":"serviceauthorization","in":"header","description":"Service Authorization (S2S Bearer token)","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CcdCallbackResponseDto"}}}},"400":{"description":"Invalid input","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CcdCallbackResponseDto"}}}},"403":{"description":"Access Denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CcdCallbackResponseDto"}}}}}}},"/api/new-bundle":{"post":{"tags":["Bundle Stitching Service"],"summary":"Creates and Stitches a Bundle. This is Asynchronous call. This call returns the createdBundle with out the Stitched Document URL. Stitched Document URL is updated asynchronously by theStitching api against the Bundle with in the case in CCD.","operationId":"prepareNewBundle","parameters":[{"name":"authorization","in":"header","description":"Authorization (Idam Bearer token)","required":true,"schema":{"type":"string"}},{"name":"serviceauthorization","in":"header","description":"Service Authorization (S2S Bearer token)","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CcdCallbackResponseDto"}}}},"400":{"description":"Invalid input","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CcdCallbackResponseDto"}}}},"403":{"description":"Access Denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CcdCallbackResponseDto"}}}}}}},"/api/clone-ccd-bundles":{"post":{"tags":["Clone Bundle Service"],"summary":"Creates a clone of an existing Bundle.","operationId":"cloneCcdBundles","parameters":[{"name":"authorization","in":"header","description":"Authorization (Idam Bearer token)","required":true,"schema":{"type":"string"}},{"name":"serviceauthorization","in":"header","description":"Service Authorization (S2S Bearer token)","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CcdCallbackResponseDto"}}}},"400":{"description":"Invalid input","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CcdCallbackResponseDto"}}}},"403":{"description":"Access Denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CcdCallbackResponseDto"}}}}}}},"/api/async-stitch-ccd-bundles":{"post":{"tags":["Ccd Bundle Stitching Service"],"summary":"Creates and Stitches a Ccd Bundle. This is Asynchronous call.","operationId":"asyncStitchCcdBundles","parameters":[{"name":"authorization","in":"header","description":"Authorization (Idam Bearer token)","required":true,"schema":{"type":"string"}},{"name":"serviceauthorization","in":"header","description":"Service Authorization (S2S Bearer token)","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CcdCallbackResponseDto"}}}},"400":{"description":"Invalid input","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CcdCallbackResponseDto"}}}},"403":{"description":"Access Denied","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CcdCallbackResponseDto"}}}}}}},"/":{"get":{"tags":["welcome-controller"],"operationId":"welcome","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}}},"components":{"schemas":{"CallbackDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"callbackState":{"type":"string","enum":["NEW","SUCCESS","FAILURE"]},"failureDescription":{"type":"string"},"callbackUrl":{"type":"string"}}},"DocumentImage":{"type":"object","properties":{"docmosisAssetId":{"type":"string"},"imageRenderingLocation":{"type":"string","enum":["allPages","firstPage"]},"coordinateX":{"type":"integer","format":"int32"},"coordinateY":{"type":"integer","format":"int32"},"imageRendering":{"type":"string","enum":["opaque","translucent"]}}},"DocumentTaskDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"bundle":{"$ref":"#/components/schemas/StitchingBundleDTO"},"taskState":{"type":"string","enum":["NEW","IN_PROGRESS","DONE","FAILED"]},"failureDescription":{"type":"string"},"callback":{"$ref":"#/components/schemas/CallbackDto"},"serviceAuth":{"type":"string"},"caseTypeId":{"type":"string"},"caseId":{"type":"string"},"jurisdictionId":{"type":"string"}},"required":["bundle"]},"JsonNode":{},"StitchingBundleDTO":{"type":"object","properties":{"bundleTitle":{"type":"string"},"description":{"type":"string"},"stitchedDocumentURI":{"type":"string"},"hashToken":{"type":"string"},"folders":{"type":"array","items":{"$ref":"#/components/schemas/StitchingBundleFolderDTO"}},"documents":{"type":"array","items":{"$ref":"#/components/schemas/StitchingBundleDocumentDTO"}},"fileName":{"type":"string"},"fileNameIdentifier":{"type":"string"},"coverpageTemplate":{"type":"string"},"coverpageTemplateData":{"$ref":"#/components/schemas/JsonNode"},"hasTableOfContents":{"type":"boolean"},"hasCoversheets":{"type":"boolean"},"hasFolderCoversheets":{"type":"boolean"},"paginationStyle":{"type":"string","enum":["off","topLeft","topCenter","topRight","bottomLeft","bottomCenter","bottomRight"]},"pageNumberFormat":{"type":"string","enum":["numberOfPages","pageRange"]},"documentImage":{"$ref":"#/components/schemas/DocumentImage"},"enableEmailNotification":{"type":"boolean"}}},"StitchingBundleDocumentDTO":{"type":"object","properties":{"documentId":{"type":"string"},"documentURI":{"type":"string"},"docTitle":{"type":"string"},"docDescription":{"type":"string"},"sortIndex":{"type":"integer","format":"int32"}}},"StitchingBundleFolderDTO":{"type":"object","properties":{"description":{"type":"string"},"folderName":{"type":"string"},"documents":{"type":"array","items":{"$ref":"#/components/schemas/StitchingBundleDocumentDTO"}},"sortIndex":{"type":"integer","format":"int32"}}},"CallbackException":{"type":"object","properties":{"cause":{"type":"object","properties":{"stackTrace":{"type":"array","items":{"type":"object","properties":{"classLoaderName":{"type":"string"},"moduleName":{"type":"string"},"moduleVersion":{"type":"string"},"methodName":{"type":"string"},"fileName":{"type":"string"},"lineNumber":{"type":"integer","format":"int32"},"className":{"type":"string"},"nativeMethod":{"type":"boolean"}}}},"message":{"type":"string"},"suppressed":{"type":"array","items":{"type":"object","properties":{"stackTrace":{"type":"array","items":{"type":"object","properties":{"classLoaderName":{"type":"string"},"moduleName":{"type":"string"},"moduleVersion":{"type":"string"},"methodName":{"type":"string"},"fileName":{"type":"string"},"lineNumber":{"type":"integer","format":"int32"},"className":{"type":"string"},"nativeMethod":{"type":"boolean"}}}},"message":{"type":"string"},"localizedMessage":{"type":"string"}}}},"localizedMessage":{"type":"string"}}},"stackTrace":{"type":"array","items":{"type":"object","properties":{"classLoaderName":{"type":"string"},"moduleName":{"type":"string"},"moduleVersion":{"type":"string"},"methodName":{"type":"string"},"fileName":{"type":"string"},"lineNumber":{"type":"integer","format":"int32"},"className":{"type":"string"},"nativeMethod":{"type":"boolean"}}}},"httpStatus":{"type":"integer","format":"int32"},"httpResponseBody":{"type":"string"},"message":{"type":"string"},"suppressed":{"type":"array","items":{"type":"object","properties":{"stackTrace":{"type":"array","items":{"type":"object","properties":{"classLoaderName":{"type":"string"},"moduleName":{"type":"string"},"moduleVersion":{"type":"string"},"methodName":{"type":"string"},"fileName":{"type":"string"},"lineNumber":{"type":"integer","format":"int32"},"className":{"type":"string"},"nativeMethod":{"type":"boolean"}}}},"message":{"type":"string"},"localizedMessage":{"type":"string"}}}},"localizedMessage":{"type":"string"}}},"CcdCallbackResponseDto":{"type":"object","properties":{"data":{"$ref":"#/components/schemas/JsonNode"},"errors":{"type":"array","items":{"type":"string"}},"warnings":{"type":"array","items":{"type":"string"}},"documentTaskId":{"type":"integer","format":"int64"}}}}}}
