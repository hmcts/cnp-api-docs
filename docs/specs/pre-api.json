{"openapi":"3.0.1","info":{"description":"PRE API","license":{"name":"MIT","url":"https://opensource.org/licenses/MIT"},"title":"PRE API","version":"v0.0.1"},"externalDocs":{"description":"README","url":"https://github.com/hmcts/pre-api"},"servers":[{"url":"http://localhost","description":"Generated server url"}],"paths":{"/bookings/{bookingId}/recordings":{"get":{"operationId":"getAllRecordingsByBookingId","parameters":[{"in":"path","name":"bookingId","required":true,"schema":{"type":"string","format":"uuid"}},{"in":"query","name":"captureSessionId","required":false,"schema":{"type":"string","format":"uuid"}},{"in":"query","name":"parentRecordingId","required":false,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RecordingDTO"}}}},"description":"OK"}},"tags":["recording-controller"]}},"/bookings/{bookingId}/recordings/{recordingId}":{"delete":{"operationId":"deleteRecordingById","parameters":[{"in":"path","name":"bookingId","required":true,"schema":{"type":"string","format":"uuid"}},{"in":"path","name":"recordingId","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK"}},"tags":["recording-controller"]},"get":{"operationId":"getRecordingById","parameters":[{"in":"path","name":"bookingId","required":true,"schema":{"type":"string","format":"uuid"}},{"in":"path","name":"recordingId","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/RecordingDTO"}}},"description":"OK"}},"tags":["recording-controller"]},"put":{"operationId":"upsert_2","parameters":[{"in":"path","name":"bookingId","required":true,"schema":{"type":"string","format":"uuid"}},{"in":"path","name":"recordingId","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRecordingDTO"}}},"required":true},"responses":{"200":{"description":"OK"}},"tags":["recording-controller"]}},"/cases":{"get":{"operationId":"getCases","parameters":[{"in":"query","name":"reference","required":false,"schema":{"type":"string"}},{"in":"query","name":"courtId","required":false,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CaseDTO"}}}},"description":"OK"}},"tags":["case-controller"]}},"/cases/{caseId}/bookings/{bookingId}":{"delete":{"operationId":"delete","parameters":[{"in":"path","name":"caseId","required":true,"schema":{"type":"string","format":"uuid"}},{"in":"path","name":"bookingId","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK"}},"tags":["booking-controller"]},"get":{"operationId":"get","parameters":[{"in":"path","name":"caseId","required":true,"schema":{"type":"string","format":"uuid"}},{"in":"path","name":"bookingId","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/BookingDTO"}}},"description":"OK"}},"tags":["booking-controller"]},"put":{"operationId":"upsert_1","parameters":[{"in":"path","name":"caseId","required":true,"schema":{"type":"string","format":"uuid"}},{"in":"path","name":"bookingId","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateBookingDTO"}}},"required":true},"responses":{"200":{"description":"OK"}},"tags":["booking-controller"]}},"/cases/{id}":{"delete":{"operationId":"deleteCase","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK"}},"tags":["case-controller"]},"get":{"operationId":"getCaseById","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/CaseDTO"}}},"description":"OK"}},"tags":["case-controller"]},"put":{"operationId":"upsertCase","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCaseDTO"}}},"required":true},"responses":{"200":{"description":"OK"}},"tags":["case-controller"]}},"/courts":{"get":{"operationId":"getCourts","parameters":[{"in":"query","name":"courtType","required":false,"schema":{"type":"string","enum":["CROWN","MAGISTRATE","FAMILY"]}},{"in":"query","name":"name","required":false,"schema":{"type":"string"}},{"in":"query","name":"locationCode","required":false,"schema":{"type":"string"}},{"in":"query","name":"regionName","required":false,"schema":{"type":"string"}}],"responses":{"200":{"content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CourtDTO"}}}},"description":"OK"}},"tags":["court-controller"]}},"/courts/{courtId}":{"get":{"operationId":"getCourtById","parameters":[{"in":"path","name":"courtId","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/CourtDTO"}}},"description":"OK"}},"tags":["court-controller"]},"put":{"operationId":"upsert","parameters":[{"in":"path","name":"courtId","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCourtDTO"}}},"required":true},"responses":{"200":{"description":"OK"}},"tags":["court-controller"]}},"/users/{userId}":{"get":{"operationId":"getUserById","parameters":[{"in":"path","name":"userId","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDTO"}}},"description":"OK"}},"tags":["user-controller"]}}},"components":{"schemas":{"BookingDTO":{"type":"object","properties":{"case_dto":{"$ref":"#/components/schemas/CaseDTO"},"created_at":{"type":"string","format":"date-time"},"deleted_at":{"type":"string","format":"date-time"},"id":{"type":"string","format":"uuid"},"modified_at":{"type":"string","format":"date-time"},"participants":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/ParticipantDTO"}},"scheduled_for":{"type":"string","format":"date-time"}}},"CaseDTO":{"type":"object","properties":{"court":{"$ref":"#/components/schemas/CourtDTO"},"created_at":{"type":"string","format":"date-time"},"deleted_at":{"type":"string","format":"date-time"},"id":{"type":"string","format":"uuid"},"modified_at":{"type":"string","format":"date-time"},"reference":{"type":"string"},"test":{"type":"boolean"}}},"CourtDTO":{"type":"object","properties":{"court_type":{"type":"string","enum":["CROWN","MAGISTRATE","FAMILY"]},"id":{"type":"string","format":"uuid"},"location_code":{"type":"string"},"name":{"type":"string"},"regions":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/RegionDTO"}},"rooms":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/RoomDTO"}}}},"CreateBookingDTO":{"type":"object","properties":{"case_id":{"type":"string","format":"uuid"},"id":{"type":"string","format":"uuid"},"participants":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/CreateParticipantDTO"}},"scheduled_for":{"type":"string","format":"date-time"}}},"CreateCaseDTO":{"type":"object","properties":{"court_id":{"type":"string","format":"uuid"},"id":{"type":"string","format":"uuid"},"reference":{"type":"string"},"test":{"type":"boolean"}}},"CreateCourtDTO":{"type":"object","properties":{"court_type":{"type":"string","enum":["CROWN","MAGISTRATE","FAMILY"]},"id":{"type":"string","format":"uuid"},"location_code":{"type":"string"},"name":{"type":"string"},"regions":{"type":"array","items":{"type":"string","format":"uuid"}},"rooms":{"type":"array","items":{"type":"string","format":"uuid"}}}},"CreateParticipantDTO":{"type":"object","properties":{"first_name":{"type":"string"},"id":{"type":"string","format":"uuid"},"last_name":{"type":"string"},"participant_type":{"type":"string","enum":["WITNESS","DEFENDANT"]}}},"CreateRecordingDTO":{"type":"object","properties":{"capture_session_id":{"type":"string","format":"uuid"},"duration":{"type":"object","properties":{"nano":{"type":"integer","format":"int32"},"negative":{"type":"boolean"},"positive":{"type":"boolean"},"seconds":{"type":"integer","format":"int64"},"units":{"type":"array","items":{"type":"object","properties":{"dateBased":{"type":"boolean"},"durationEstimated":{"type":"boolean"},"timeBased":{"type":"boolean"}}}},"zero":{"type":"boolean"}}},"edit_instructions":{"type":"string"},"filename":{"type":"string"},"id":{"type":"string","format":"uuid"},"parent_recording_id":{"type":"string","format":"uuid"},"url":{"type":"string"},"version":{"type":"integer","format":"int32"}}},"ParticipantDTO":{"type":"object","properties":{"created_at":{"type":"string","format":"date-time"},"deleted_at":{"type":"string","format":"date-time"},"first_name":{"type":"string"},"id":{"type":"string","format":"uuid"},"last_name":{"type":"string"},"modified_at":{"type":"string","format":"date-time"},"participant_type":{"type":"string","enum":["WITNESS","DEFENDANT"]}}},"PermissionDTO":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"RecordingDTO":{"type":"object","properties":{"capture_session_id":{"type":"string","format":"uuid"},"created_at":{"type":"string","format":"date-time"},"deleted_at":{"type":"string","format":"date-time"},"duration":{"type":"object","properties":{"nano":{"type":"integer","format":"int32"},"negative":{"type":"boolean"},"positive":{"type":"boolean"},"seconds":{"type":"integer","format":"int64"},"units":{"type":"array","items":{"type":"object","properties":{"dateBased":{"type":"boolean"},"durationEstimated":{"type":"boolean"},"timeBased":{"type":"boolean"}}}},"zero":{"type":"boolean"}}},"edit_instructions":{"type":"string"},"filename":{"type":"string"},"id":{"type":"string","format":"uuid"},"parent_recording_id":{"type":"string","format":"uuid"},"url":{"type":"string"},"version":{"type":"integer","format":"int32"}}},"RegionDTO":{"type":"object","properties":{"name":{"type":"string"}}},"RoleDTO":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"},"permissions":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/PermissionDTO"}}}},"RoomDTO":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"name":{"type":"string"}}},"UserDTO":{"type":"object","properties":{"court":{"$ref":"#/components/schemas/CourtDTO"},"created_at":{"type":"string","format":"date-time"},"deleted_at":{"type":"string","format":"date-time"},"email":{"type":"string"},"first_name":{"type":"string"},"id":{"type":"string","format":"uuid"},"last_name":{"type":"string"},"modified_at":{"type":"string","format":"date-time"},"organisation":{"type":"string"},"phone_number":{"type":"string"},"role":{"$ref":"#/components/schemas/RoleDTO"}}}}}}
