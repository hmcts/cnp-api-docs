{"openapi":"3.0.1","info":{"description":"PRE API","license":{"name":"MIT","url":"https://opensource.org/licenses/MIT"},"title":"PRE API","version":"v0.0.1"},"externalDocs":{"description":"README","url":"https://github.com/hmcts/pre-api"},"servers":[{"url":"http://localhost","description":"Generated server url"}],"paths":{"/bookings":{"get":{"operationId":"searchBookings","parameters":[{"in":"query","name":"caseReference","required":true,"schema":{"type":"string"}}],"responses":{"200":{"content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/BookingDTO"}}}},"description":"OK"}},"summary":"Search for Bookings by case reference","tags":["booking-controller"]}},"/bookings/{bookingId}/recordings":{"get":{"operationId":"getRecordingsByBookingId","parameters":[{"in":"path","name":"bookingId","required":true,"schema":{"type":"string","format":"uuid"}},{"in":"query","name":"captureSessionId","required":false,"schema":{"type":"string","format":"uuid"}},{"in":"query","name":"parentRecordingId","required":false,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RecordingDTO"}}}},"description":"OK"}},"summary":"Get all Recordings by Booking Id","tags":["recording-controller"]}},"/bookings/{bookingId}/recordings/{recordingId}":{"delete":{"operationId":"deleteRecording","parameters":[{"in":"path","name":"bookingId","required":true,"schema":{"type":"string","format":"uuid"}},{"in":"path","name":"recordingId","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK"}},"summary":"Delete a Recording","tags":["recording-controller"]},"get":{"operationId":"getRecordingById","parameters":[{"in":"path","name":"bookingId","required":true,"schema":{"type":"string","format":"uuid"}},{"in":"path","name":"recordingId","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/RecordingDTO"}}},"description":"OK"}},"summary":"Get a Recording by Id","tags":["recording-controller"]},"put":{"operationId":"putRecordings","parameters":[{"in":"path","name":"bookingId","required":true,"schema":{"type":"string","format":"uuid"}},{"in":"path","name":"recordingId","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRecordingDTO"}}},"required":true},"responses":{"200":{"description":"OK"}},"summary":"Create or Update a Recording","tags":["recording-controller"]}},"/cases":{"get":{"operationId":"getCases","parameters":[{"in":"query","name":"reference","required":false,"schema":{"type":"string"}},{"in":"query","name":"courtId","required":false,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CaseDTO"}}}},"description":"OK"}},"summary":"Get a case by reference or court id","tags":["case-controller"]}},"/cases/{caseId}/bookings":{"get":{"operationId":"getBookingsByCaseId","parameters":[{"in":"path","name":"caseId","required":true,"schema":{"type":"string","format":"uuid"}},{"in":"query","name":"pageable","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}},{"in":"query","name":"assembler","required":true,"schema":{"$ref":"#/components/schemas/PagedResourcesAssemblerBookingDTO"}}],"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagedModelEntityModelBookingDTO"}}},"description":"OK"}},"summary":"Get all Bookings for a Case","tags":["booking-controller"]}},"/cases/{caseId}/bookings/{bookingId}":{"delete":{"operationId":"deleteBooking","parameters":[{"in":"path","name":"caseId","required":true,"schema":{"type":"string","format":"uuid"}},{"in":"path","name":"bookingId","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK"}},"summary":"Delete a Booking","tags":["booking-controller"]},"get":{"operationId":"getBookingById","parameters":[{"in":"path","name":"caseId","required":true,"schema":{"type":"string","format":"uuid"}},{"in":"path","name":"bookingId","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/BookingDTO"}}},"description":"OK"}},"summary":"Get a Booking by Id","tags":["booking-controller"]},"put":{"operationId":"putBooking","parameters":[{"in":"path","name":"caseId","required":true,"schema":{"type":"string","format":"uuid"}},{"in":"path","name":"bookingId","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateBookingDTO"}}},"required":true},"responses":{"200":{"description":"OK"}},"summary":"Create or Update a Booking","tags":["booking-controller"]}},"/cases/{id}":{"delete":{"operationId":"deleteCase","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK"}},"summary":"Mark a Case as deleted","tags":["case-controller"]},"get":{"operationId":"getCaseById","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/CaseDTO"}}},"description":"OK"}},"summary":"Get a case by id","tags":["case-controller"]},"put":{"operationId":"putCase","parameters":[{"in":"path","name":"id","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCaseDTO"}}},"required":true},"responses":{"200":{"description":"OK"}},"summary":"Create or Update a Case","tags":["case-controller"]}},"/courts":{"get":{"operationId":"searchCourts","parameters":[{"in":"query","name":"courtType","required":false,"schema":{"type":"string","enum":["CROWN","MAGISTRATE","FAMILY"]}},{"in":"query","name":"name","required":false,"schema":{"type":"string"}},{"in":"query","name":"locationCode","required":false,"schema":{"type":"string"}},{"in":"query","name":"regionName","required":false,"schema":{"type":"string"}}],"responses":{"200":{"content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CourtDTO"}}}},"description":"OK"}},"summary":"Search for Courts by court type, name, location code or region name","tags":["court-controller"]}},"/courts/{courtId}":{"get":{"operationId":"getCourtById","parameters":[{"in":"path","name":"courtId","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/CourtDTO"}}},"description":"OK"}},"summary":"Get a Court by Id","tags":["court-controller"]},"put":{"operationId":"putCourt","parameters":[{"in":"path","name":"courtId","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCourtDTO"}}},"required":true},"responses":{"200":{"description":"OK"}},"summary":"Create or Update a Court","tags":["court-controller"]}},"/users":{"get":{"operationId":"getUsers","parameters":[{"in":"query","name":"firstName","required":false,"schema":{"type":"string"}},{"in":"query","name":"lastName","required":false,"schema":{"type":"string"}},{"in":"query","name":"email","required":false,"schema":{"type":"string"}},{"in":"query","name":"organisation","required":false,"schema":{"type":"string"}},{"in":"query","name":"courtId","required":false,"schema":{"type":"string","format":"uuid"}},{"in":"query","name":"roleId","required":false,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/UserDTO"}}}},"description":"OK"}},"summary":"Search for Users by first name, last name, email, organisation, court or role","tags":["user-controller"]}},"/users/{userId}":{"delete":{"operationId":"deleteUser","parameters":[{"in":"path","name":"userId","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"description":"OK"}},"summary":"Delete a User","tags":["user-controller"]},"get":{"operationId":"getUserById","parameters":[{"in":"path","name":"userId","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"200":{"content":{"*/*":{"schema":{"$ref":"#/components/schemas/UserDTO"}}},"description":"OK"}},"summary":"Get a User by Id","tags":["user-controller"]},"put":{"operationId":"putUser","parameters":[{"in":"path","name":"userId","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDTO"}}},"required":true},"responses":{"200":{"description":"OK"}},"summary":"Create or Update a User","tags":["user-controller"]}}},"components":{"schemas":{"BookingDTO":{"type":"object","properties":{"case_dto":{"$ref":"#/components/schemas/CaseDTO"},"created_at":{"type":"string","description":"BookingCreatedAt","format":"date-time"},"deleted_at":{"type":"string","description":"BookingDeletedAt","format":"date-time"},"id":{"type":"string","description":"BookingId","format":"uuid"},"modified_at":{"type":"string","description":"BookingModifiedAt","format":"date-time"},"participants":{"uniqueItems":true,"type":"array","description":"BookingParticipants","items":{"$ref":"#/components/schemas/ParticipantDTO"}},"scheduled_for":{"type":"string","description":"BookingScheduledFor","format":"date-time"}},"description":"BookingDTO"},"CaseDTO":{"type":"object","properties":{"court":{"$ref":"#/components/schemas/CourtDTO"},"created_at":{"type":"string","description":"CaseCreatedAt","format":"date-time"},"deleted_at":{"type":"string","description":"CaseDeletedAt","format":"date-time"},"id":{"type":"string","description":"CaseId","format":"uuid"},"modified_at":{"type":"string","description":"CaseModifiedAt","format":"date-time"},"reference":{"type":"string","description":"CaseReference"},"test":{"type":"boolean","description":"CaseIsTest"}},"description":"CaseDTO"},"CourtDTO":{"type":"object","properties":{"court_type":{"type":"string","description":"CourtType","enum":["CROWN","MAGISTRATE","FAMILY"]},"id":{"type":"string","description":"CourtId","format":"uuid"},"location_code":{"type":"string","description":"CourtLocationCode"},"name":{"type":"string","description":"CourtName"},"regions":{"uniqueItems":true,"type":"array","description":"CourtRegions","items":{"$ref":"#/components/schemas/RegionDTO"}},"rooms":{"uniqueItems":true,"type":"array","description":"CourtRooms","items":{"$ref":"#/components/schemas/RoomDTO"}}},"description":"CourtDTO"},"CreateBookingDTO":{"type":"object","properties":{"case_id":{"type":"string","description":"CreateBookingCaseId","format":"uuid"},"id":{"type":"string","description":"CreateBookingId","format":"uuid"},"participants":{"uniqueItems":true,"type":"array","description":"CreateBookingParticipants","items":{"$ref":"#/components/schemas/CreateParticipantDTO"}},"scheduled_for":{"type":"string","description":"CreateBookingScheduledFor","format":"date-time"}},"description":"CreateBookingDTO"},"CreateCaseDTO":{"type":"object","properties":{"court_id":{"type":"string","description":"CreateCaseCourtId","format":"uuid"},"id":{"type":"string","description":"CreateCaseId","format":"uuid"},"reference":{"type":"string","description":"CreateCaseReference"},"test":{"type":"boolean","description":"CreateCaseIsTest"}},"description":"CreateCaseDTO"},"CreateCourtDTO":{"type":"object","properties":{"court_type":{"type":"string","description":"CreateCourtType","enum":["CROWN","MAGISTRATE","FAMILY"]},"id":{"type":"string","description":"CreateCourtId","format":"uuid"},"location_code":{"type":"string","description":"CreateCourtLocationCode"},"name":{"type":"string","description":"CreateCourtName"},"regions":{"type":"array","description":"CreateCourtRegionIds","items":{"type":"string","description":"CreateCourtRegionIds","format":"uuid"}},"rooms":{"type":"array","description":"CreateCourtRoomIds","items":{"type":"string","description":"CreateCourtRoomIds","format":"uuid"}}},"description":"CreateCourtDTO"},"CreateParticipantDTO":{"type":"object","properties":{"first_name":{"type":"string","description":"CreateParticipantFirstName"},"id":{"type":"string","description":"CreateParticipantId","format":"uuid"},"last_name":{"type":"string","description":"CreateParticipantLastName"},"participant_type":{"type":"string","description":"CreateParticipantType","enum":["WITNESS","DEFENDANT"]}},"description":"CreateParticipantDTO"},"CreateRecordingDTO":{"type":"object","properties":{"capture_session_id":{"type":"string","description":"RecordingCaptureSessionId","format":"uuid"},"duration":{"type":"object","properties":{"nano":{"type":"integer","format":"int32"},"negative":{"type":"boolean"},"positive":{"type":"boolean"},"seconds":{"type":"integer","format":"int64"},"units":{"type":"array","items":{"type":"object","properties":{"dateBased":{"type":"boolean"},"duration":{"type":"object","properties":{"nano":{"type":"integer","format":"int32"},"negative":{"type":"boolean"},"positive":{"type":"boolean"},"seconds":{"type":"integer","format":"int64"},"zero":{"type":"boolean"}}},"durationEstimated":{"type":"boolean"},"timeBased":{"type":"boolean"}}}},"zero":{"type":"boolean"}},"description":"RecordingDuration"},"edit_instructions":{"type":"string","description":"RecordingEditInstructions"},"filename":{"type":"string","description":"RecordingFilename"},"id":{"type":"string","description":"RecordingId","format":"uuid"},"parent_recording_id":{"type":"string","description":"RecordingParentRecordingId","format":"uuid"},"url":{"type":"string","description":"RecordingURL"},"version":{"type":"integer","description":"RecordingVersion","format":"int32"}},"description":"CreateRecordingDTO"},"CreateUserDTO":{"type":"object","properties":{"court_id":{"type":"string","description":"UserCourtId","format":"uuid"},"email":{"type":"string","description":"UserEmail"},"first_name":{"type":"string","description":"UserFirstName"},"id":{"type":"string","description":"UserId","format":"uuid"},"last_name":{"type":"string","description":"UserLastName"},"organisation":{"type":"string","description":"UserOrganisation"},"phone_number":{"type":"string","description":"UserPhoneNumber"},"role_id":{"type":"string","description":"UserRoleId","format":"uuid"}},"description":"CreateUserDTO"},"EntityModelBookingDTO":{"type":"object","properties":{"_links":{"$ref":"#/components/schemas/Links"},"case_dto":{"$ref":"#/components/schemas/CaseDTO"},"created_at":{"type":"string","description":"BookingCreatedAt","format":"date-time"},"deleted_at":{"type":"string","description":"BookingDeletedAt","format":"date-time"},"id":{"type":"string","description":"BookingId","format":"uuid"},"modified_at":{"type":"string","description":"BookingModifiedAt","format":"date-time"},"participants":{"uniqueItems":true,"type":"array","description":"BookingParticipants","items":{"$ref":"#/components/schemas/ParticipantDTO"}},"scheduled_for":{"type":"string","description":"BookingScheduledFor","format":"date-time"}}},"Link":{"type":"object","properties":{"deprecation":{"type":"string"},"href":{"type":"string"},"hreflang":{"type":"string"},"name":{"type":"string"},"profile":{"type":"string"},"templated":{"type":"boolean"},"title":{"type":"string"},"type":{"type":"string"}}},"Links":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/Link"}},"PageMetadata":{"type":"object","properties":{"number":{"type":"integer","format":"int64"},"size":{"type":"integer","format":"int64"},"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int64"}}},"Pageable":{"type":"object","properties":{"page":{"minimum":0,"type":"integer","format":"int32"},"size":{"minimum":1,"type":"integer","format":"int32"},"sort":{"type":"array","items":{"type":"string"}}}},"PagedModelEntityModelBookingDTO":{"type":"object","properties":{"_embedded":{"type":"object","properties":{"bookingDTOList":{"type":"array","items":{"$ref":"#/components/schemas/EntityModelBookingDTO"}}}},"_links":{"$ref":"#/components/schemas/Links"},"page":{"$ref":"#/components/schemas/PageMetadata"}}},"PagedResourcesAssemblerBookingDTO":{"type":"object","properties":{"forceFirstAndLastRels":{"type":"boolean","writeOnly":true}}},"ParticipantDTO":{"type":"object","properties":{"created_at":{"type":"string","description":"ParticipantCreatedAt","format":"date-time"},"deleted_at":{"type":"string","description":"ParticipantDeletedAt","format":"date-time"},"first_name":{"type":"string","description":"ParticipantFirstName"},"id":{"type":"string","description":"ParticipantId","format":"uuid"},"last_name":{"type":"string","description":"ParticipantLastName"},"modified_at":{"type":"string","description":"ParticipantModifiedAt","format":"date-time"},"participant_type":{"type":"string","description":"ParticipantType","enum":["WITNESS","DEFENDANT"]}},"description":"ParticipantDTO"},"PermissionDTO":{"type":"object","properties":{"id":{"type":"string","description":"PermissionId","format":"uuid"},"name":{"type":"string","description":"PermissionName"}},"description":"PermissionDTO"},"RecordingDTO":{"type":"object","properties":{"capture_session_id":{"type":"string","description":"RecordingCaptureSessionId","format":"uuid"},"created_at":{"type":"string","description":"RecordingCreatedAt","format":"date-time"},"deleted_at":{"type":"string","description":"RecordingDeletedAt","format":"date-time"},"duration":{"type":"object","properties":{"nano":{"type":"integer","format":"int32"},"negative":{"type":"boolean"},"positive":{"type":"boolean"},"seconds":{"type":"integer","format":"int64"},"units":{"type":"array","items":{"type":"object","properties":{"dateBased":{"type":"boolean"},"duration":{"type":"object","properties":{"nano":{"type":"integer","format":"int32"},"negative":{"type":"boolean"},"positive":{"type":"boolean"},"seconds":{"type":"integer","format":"int64"},"zero":{"type":"boolean"}}},"durationEstimated":{"type":"boolean"},"timeBased":{"type":"boolean"}}}},"zero":{"type":"boolean"}},"description":"RecordingDuration"},"edit_instructions":{"type":"string","description":"RecordingEditInstructions"},"filename":{"type":"string","description":"RecordingFilename"},"id":{"type":"string","description":"RecordingId","format":"uuid"},"parent_recording_id":{"type":"string","description":"RecordingParentRecordingId","format":"uuid"},"url":{"type":"string","description":"RecordingURL"},"version":{"type":"integer","description":"RecordingVersion","format":"int32"}},"description":"RecordingDTO"},"RegionDTO":{"type":"object","properties":{"name":{"type":"string","description":"RegionName"}},"description":"RegionDTO"},"RoleDTO":{"type":"object","properties":{"id":{"type":"string","description":"RoleId","format":"uuid"},"name":{"type":"string","description":"RoleName"},"permissions":{"uniqueItems":true,"type":"array","description":"RolePermissions","items":{"$ref":"#/components/schemas/PermissionDTO"}}},"description":"RoleDTO"},"RoomDTO":{"type":"object","properties":{"id":{"type":"string","description":"RoomId","format":"uuid"},"name":{"type":"string","description":"RoomName"}},"description":"RoomDTO"},"UserDTO":{"type":"object","properties":{"court":{"$ref":"#/components/schemas/CourtDTO"},"created_at":{"type":"string","description":"UserCreatedAt","format":"date-time"},"deleted_at":{"type":"string","description":"UserDeletedAt","format":"date-time"},"email":{"type":"string","description":"UserEmail"},"first_name":{"type":"string","description":"UserFirstName"},"id":{"type":"string","description":"UserId","format":"uuid"},"last_name":{"type":"string","description":"UserLastName"},"modified_at":{"type":"string","description":"UserModifiedAt","format":"date-time"},"organisation":{"type":"string","description":"UserOrganisation"},"phone_number":{"type":"string","description":"UserPhoneNumber"},"role":{"$ref":"#/components/schemas/RoleDTO"}},"description":"UserDTO"}}}}
