{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost","description":"Generated server url"}],"paths":{"/":{"get":{"operationId":"welcome","parameters":[{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Welcome message"}},"summary":"Welcome message for the Professional Reference Data API","tags":["welcome-controller"]}},"/refdata/external/v1/organisations":{"get":{"description":"**IDAM Roles to access API**:<br> pui-organisation-manager,<br> pui-finance-manager,<br> pui-case-manager,<br> pui-caa,<br> pui-user-manager","operationId":"retrieveOrganisationUsingOrgIdentifier_1","parameters":[{"in":"query","name":"pbaStatus","required":false,"schema":{"type":"string"}},{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationEntityResponse"}}},"description":"Details of an Organisation"},"400":{"description":"An invalid ID was provided"},"403":{"description":"Forbidden Error: Access denied"},"404":{"description":"No Organisation found with the given ID"},"500":{"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]},{"Authorization":[]}],"summary":"Retrieves Organisation details of the requesting User","tags":["organisation-external-controller"]},"post":{"description":"**IDAM Roles to access API**: <br> No role restriction","operationId":"createOrganisationUsingExternalController_1","parameters":[{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationCreationRequest"}}},"description":"organisationCreationRequest","required":true},"responses":{"201":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationResponse"}}},"description":"The Organisation Identifier of the created Organisation"},"400":{"description":"An invalid request has been provided"},"403":{"description":"Forbidden Error: Access denied"},"500":{"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]}],"summary":"Creates an Organisation","tags":["organisation-external-controller"]}},"/refdata/external/v1/organisations/addresses":{"delete":{"description":"**IDAM Roles to access API** : <br> - pui-organisation-manager","operationId":"deleteMultipleAddressesOfOrganisation","parameters":[{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/DeleteMultipleAddressRequest"}}}},"description":"deleteRequest","required":true},"responses":{"204":{"description":"Successfully deleted the list of Contact Information Address of an Organisation."},"400":{"description":"Bad Request Error: One of the below reasons: <br>- Request is malformed.<br>- Organisation id is missing.<br>- Organisation should have at least one address."},"401":{"description":"Unauthorized Error : The requested resource is restricted and requires authentication"},"403":{"description":"Forbidden Error: Access denied for either invalid permissions or user is pending"},"404":{"description":"NOT FOUND Error: One of the below reasons: <br>- Organisation does not exist.<br>- Request is empty.<br>- id1, id2 does not exist<br>OR<br>id1, id2 does not belong to given org."},"500":{"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]},{"Authorization":[]}],"summary":"Deletes the Contact Information Address of an Organisation.","tags":["organisation-external-controller"]},"post":{"description":"**IDAM Roles to access API** :<br> pui-organisation-manager","operationId":"addContactInformationsToOrganisation","parameters":[{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ContactInformationCreationRequest"}}}},"description":"contactInformationCreationRequests","required":true},"responses":{"201":{"description":"Created"},"400":{"description":"An invalid request has been provided"},"401":{"description":"Unauthorized Error : The requested resource is restricted and requires authentication"},"403":{"description":"Forbidden Error: Access denied"},"500":{"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]},{"Authorization":[]}],"summary":"Adds contact informations(address details) to organisation","tags":["organisation-external-controller"]}},"/refdata/external/v1/organisations/mfa":{"get":{"description":"**IDAM Roles to access API** : <br> No role restriction","operationId":"retrieveMfaStatusByUserId","parameters":[{"in":"query","name":"user_id","required":true,"schema":{"type":"string"}},{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MfaStatusResponse"}}},"description":"The mfa status of the organisation the user belongs to"},"400":{"description":"An invalid request has been provided"},"404":{"description":"The requested user does not exist"},"500":{"description":"Internal Server Error"}},"summary":"Retrieves the mfa status of the organisation a user belongs to","tags":["organisation-mfa-status-controller"]}},"/refdata/external/v1/organisations/pba":{"delete":{"description":"**IDAM Roles to access API** : <br> - pui-finance-manager","operationId":"deletePaymentAccountsOfOrganisation","parameters":[{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PbaRequest"}}},"description":"deletePbaRequest","required":true},"responses":{"204":{"description":"Successfully deleted the list of provided payment accounts from the organisation."},"400":{"description":"Bad Request Error: One of the below reasons: <br>- Organisation is not ACTIVE.<br>- No payment accounts passed to be deleted in the request body.<br>- Passed payment account numbers are in an invalid format.<br>-The payment accounts are not associated with users organisation"},"401":{"description":"Unauthorized Error : The requested resource is restricted and requires authentication"},"403":{"description":"Forbidden Error: Access denied for either invalid permissions or user is pending"},"404":{"description":"Resource Not Found Error: The Organisation does not exist to delete Payment Accounts from"},"500":{"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]},{"Authorization":[]}],"summary":"Deletes the provided list of payment accounts from the organisation.","tags":["organisation-external-controller"]},"post":{"description":"**IDAM Roles to access API** :<br> pui-finance-manager","operationId":"addPaymentAccountsToOrganisation","parameters":[{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PbaRequest"}}},"description":"pbaRequest","required":true},"responses":{"201":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddPbaResponse"}}},"description":"All PBAs got added successfully or Partial success"},"400":{"description":"PBA number invalid or Duplicate PBA or Organisation is not active"},"401":{"description":"S2S unauthorised"},"403":{"description":"Forbidden Error: Access denied"},"500":{"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]},{"Authorization":[]}],"summary":"Add multiple PBAs associated with their organisation","tags":["organisation-external-controller"]}},"/refdata/external/v1/organisations/pbas":{"get":{"description":"**IDAM Roles to access API** : <br> pui-finance-manager,<br>pui-user-manager,<br> pui-organisation-manager,<br> pui-case-manager","operationId":"retrievePaymentAccountByEmail_1","parameters":[{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationPbaResponse"}}},"description":"The Organisation's associated Payment Accounts"},"400":{"description":"An invalid Email Address was provided"},"403":{"description":"Forbidden Error: Access denied"},"404":{"description":"No Payment Accounts found with the given Email Address"},"500":{"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]},{"Authorization":[]},{"UserEmail":[]}],"summary":"Retrieves an Organisation's Payment Accounts with a User's Email Address","tags":["organisation-external-controller"]}},"/refdata/external/v1/organisations/status/{status}":{"get":{"description":"**IDAM Roles to access API** : <br> pui-organisation-manager,<br>pui-finance-manager,<br> pui-case-manager,pui-caa,<br>pui-user-manager,citizen,caseworker","operationId":"retrieveOrganisationsByStatusWithAddressDetailsOptional","parameters":[{"in":"path","name":"status","required":true,"schema":{"type":"string"}},{"in":"query","name":"address","required":false,"schema":{"type":"boolean","default":false}},{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OrganisationMinimalInfoResponse"}}}},"description":"Successfully retrieved list of all Organisations of requested status with minimal information"},"401":{"description":"Unauthorized Error : The requested resource is restricted and requires authentication"},"403":{"description":"Forbidden Error: Access denied for either invalid permissions or user is pending"},"404":{"description":"No Organisation found"},"500":{"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]},{"Authorization":[]}],"summary":"Retrieves all Active Organisations of requested status for user with minimal e.g. organisationIdentifier, name and contact information if address flag is true","tags":["organisation-external-controller"]}},"/refdata/external/v1/organisations/users":{"get":{"description":"**IDAM Roles to access API** : \n pui-finance-manager,pui-user-manager,\n pui-organisation-manager,\n pui-case-manager,\n pui-caa","operationId":"findUsersByOrganisation_1","parameters":[{"description":"Flag (True/False) to decide whether Deleted Users are included in the response","in":"query","name":"showDeleted","required":false,"schema":{"type":"string"}},{"in":"query","name":"status","required":false,"schema":{"type":"string"}},{"in":"query","name":"returnRoles","required":false,"schema":{"type":"boolean","default":true}},{"in":"query","name":"page","required":false,"schema":{"type":"integer","format":"int32"}},{"in":"query","name":"size","required":false,"schema":{"type":"integer","format":"int32"}},{"in":"query","name":"userIdentifier","required":false,"schema":{"type":"string"}},{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProfessionalUsersEntityResponse"}}}},"description":"List of Professional Users and their details"},"400":{"content":{"application/json":{"schema":{"type":"object"}}},"description":"An invalid Organisation Identifier was provided"},"401":{"content":{"application/json":{"schema":{"type":"object"}}},"description":"Unauthorized Error : The requested resource is restricted and requires authentication"},"403":{"content":{"application/json":{"schema":{"type":"object"}}},"description":"Forbidden Error: Access denied"},"404":{"content":{"application/json":{"schema":{"type":"object"}}},"description":"No Organisation or Users found with the given ID"},"500":{"content":{"application/json":{"schema":{"type":"object"}}},"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]},{"Authorization":[]}],"summary":"Retrieves the Users of an Active Organisation based on the showDeleted flag and without roles if returnRoles is False","tags":["professional-external-user-controller"]}},"/refdata/external/v1/organisations/users/":{"post":{"description":"**IDAM Roles to access API** :<br> pui-user-manager","operationId":"addUserToOrganisationUsingExternalController","parameters":[{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewUserCreationRequest"}}},"description":"newUserCreationRequest","required":true},"responses":{"201":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewUserResponse"}}},"description":"The new User has been added to the Organisation"},"400":{"description":"An invalid request was provided"},"403":{"description":"Forbidden Error: Access denied"},"404":{"description":"No Organisation found with the given ID to add new User to"},"409":{"description":"A User already exists with the given Email Address or is already active in SIDAM during resend invite"},"429":{"description":"Too many requests for resend invite"},"500":{"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]},{"Authorization":[]}],"summary":"Add a new User to an Organisation","tags":["organisation-external-controller"]}},"/refdata/external/v1/organisations/users/accountId":{"get":{"description":"**IDAM Roles to access API** : \n pui-finance-manager,\n pui-user-manager,\n pui-organisation-manager,\n pui-case-manager,\n caseworker-publiclaw-courtadmin","operationId":"findUserStatusByEmail","parameters":[{"in":"query","name":"email","required":false,"schema":{"type":"string"}},{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewUserResponse"}}},"description":"The User Identifier of the User"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewUserResponse"}}},"description":"An invalid Email Address was provided"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewUserResponse"}}},"description":"Forbidden Error: Access denied"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewUserResponse"}}},"description":"No User belonging to an Active Organisation was found with the given Email Address"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewUserResponse"}}},"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]},{"Authorization":[]},{"UserEmail":[]}],"summary":"Retrieves the Status of a User belonging to an Active Organisation with the given Email Address","tags":["professional-external-user-controller"]}},"/refdata/external/v1/organisations/users/{userId}":{"put":{"description":"**IDAM Roles to access API** : <br> pui-user-manager","operationId":"modifyUserConfiguredAccessAndRolesForExistingUserOfExternalOrganisation","parameters":[{"in":"path","name":"userId","required":true,"schema":{"type":"string"}},{"in":"query","name":"origin","required":false,"schema":{"type":"string","default":"EXUI"}},{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfileUpdatedData"}}},"description":"userProfileUpdatedData","required":true},"responses":{"201":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModifyUserRolesResponse"}}},"description":"The User's Roles/Status have been modified"},"400":{"content":{"application/json":{"schema":{"type":"object"}}},"description":"Invalid request provided"},"403":{"content":{"application/json":{"schema":{"type":"object"}}},"description":"Forbidden Error: Access denied"},"404":{"content":{"application/json":{"schema":{"type":"object"}}},"description":"No User found with the given ID"},"412":{"content":{"application/json":{"schema":{"type":"object"}}},"description":"One or more of the Roles provided is already assigned to the User"},"500":{"content":{"application/json":{"schema":{"type":"object"}}},"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]},{"Authorization":[]}],"summary":"Modify the User Configured Access and Roles or Status of a User with the given ID","tags":["professional-external-user-controller"]}},"/refdata/external/v2/organisations":{"get":{"description":"**IDAM Roles to access API**:<br> pui-organisation-manager,<br> pui-finance-manager,<br> pui-case-manager,<br> pui-caa,<br> pui-user-manager","operationId":"retrieveOrganisationUsingOrgIdentifier","parameters":[{"in":"query","name":"pbaStatus","required":false,"schema":{"type":"string"}},{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationEntityResponseV2"}}},"description":"Details of an Organisation"},"400":{"description":"An invalid ID was provided"},"403":{"description":"Forbidden Error: Access denied"},"404":{"description":"No Organisation found with the given ID"},"500":{"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]},{"Authorization":[]}],"summary":"Retrieves Organisation details of the requesting User","tags":["organisation-external-controller-v-2"]},"post":{"description":"**IDAM Roles to access API**: <br> No role restriction","operationId":"createOrganisationUsingExternalController","parameters":[{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationOtherOrgsCreationRequest"}}},"description":"organisationCreationRequest","required":true},"responses":{"201":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationResponse"}}},"description":"The Organisation Identifier of the created Organisation"},"400":{"description":"An invalid request has been provided"},"403":{"description":"Forbidden Error: Access denied"},"500":{"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]}],"summary":"Creates an Organisation","tags":["organisation-external-controller-v-2"]}},"/refdata/external/v2/organisations/contactinformation":{"put":{"description":"**IDAM Roles to access API** : <br> pui-organisation-manager","operationId":"updateOrganisationAddress","parameters":[{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateContactInformationRequest"}}},"required":true},"responses":{"204":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Organisation address has been updated"},"400":{"description":"An invalid request has been provided"},"403":{"description":"Forbidden Error: Access denied"},"500":{"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]},{"Authorization":[]}],"summary":"Updates an Organisation's name or sraId","tags":["organisation-external-controller-v-2"]}},"/refdata/external/v2/organisations/pbas":{"get":{"description":"**IDAM Roles to access API** : <br> pui-finance-manager,<br>pui-user-manager,<br> pui-organisation-manager,<br> pui-case-manager","operationId":"retrievePaymentAccountByEmail","parameters":[{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationPbaResponseV2"}}},"description":"The Organisation's associated Payment Accounts"},"400":{"description":"An invalid Email Address was provided"},"403":{"description":"Forbidden Error: Access denied"},"404":{"description":"No Payment Accounts found with the given Email Address"},"500":{"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]},{"Authorization":[]},{"UserEmail":[]}],"summary":"Retrieves an Organisation's Payment Accounts with a User's Email Address","tags":["organisation-external-controller-v-2"]}},"/refdata/internal/v1/bulkCustomer":{"post":{"description":"**IDAM Roles to access API** : <br> caseworker-civil-admin","operationId":"retrieveOrganisationDetailsForBulkCustomer","parameters":[{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkCustomerRequest"}}},"description":"retrieveOrganisationDetailsForBulkCustomer","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkCustomerOrganisationsDetailResponse"}}},"description":"Details of Organisation"},"400":{"description":"Invalid request (BulkCustomerId or IdamId) provided"},"403":{"description":"Forbidden Error: Access denied"},"404":{"description":"No Organisation(s) found with the given Bulk Customer ID"},"500":{"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]},{"Authorization":[]}],"summary":"Retrieves organisation details for bulk customer","tags":["bulk-customer-details-internal-controller"]}},"/refdata/internal/v1/organisations":{"get":{"description":"**IDAM Roles to access API** : <br> prd-admin","operationId":"retrieveOrganisations_1","parameters":[{"in":"query","name":"id","required":false,"schema":{"pattern":"^[A-Z0-9]{7}$","type":"string"}},{"in":"query","name":"since","required":false,"schema":{"type":"string"}},{"in":"query","name":"status","required":false,"schema":{"type":"string"}},{"in":"query","name":"page","required":false,"schema":{"type":"integer","format":"int32"}},{"in":"query","name":"size","required":false,"schema":{"type":"integer","format":"int32"}},{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationsDetailResponse"}}},"description":"Details of one or more Organisations"},"400":{"description":"Invalid request (Status or ID) provided"},"403":{"description":"Forbidden Error: Access denied"},"404":{"description":"No Organisation(s) found with the given ID"},"500":{"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]},{"Authorization":[]}],"summary":"Retrieves all Organisations filtered by given Status or one Organisation if ID is given","tags":["organisation-internal-controller"]},"post":{"description":"**IDAM Roles to access API** : <br> No role restriction","operationId":"createOrganisation_1","parameters":[{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationCreationRequest"}}},"description":"organisationCreationRequest","required":true},"responses":{"201":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationResponse"}}},"description":"The Organisation Identifier of the created Organisation"},"400":{"description":"An invalid request has been provided"},"403":{"description":"Forbidden Error: Access denied"},"500":{"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]}],"summary":"Creates an Organisation","tags":["organisation-internal-controller"]}},"/refdata/internal/v1/organisations/getOrganisationsByProfile":{"post":{"description":"**Bearer token not required to access API. Only a valid s2s token**","operationId":"retrieveOrganisationsByProfileIds","parameters":[{"in":"query","name":"pageSize","required":false,"schema":{"type":"integer","format":"int32","default":100}},{"in":"query","name":"searchAfter","required":false,"schema":{"type":"string","format":"uuid"}},{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationByProfileIdsRequest"}}},"description":"organisationCreationRequest","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MultipleOrganisationsResponse"}}},"description":"List of matching organisations"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Invalid request (PageSize or searchAfter) provided"},"403":{"description":"Forbidden Error: Access denied"},"500":{"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]}],"summary":"Retrieves Organisations by Organisation Profile IDs","tags":["organisation-internal-controller"]}},"/refdata/internal/v1/organisations/orgDetails/{userId}":{"get":{"description":"**IDAM Roles to access API** : <br> prd-admin","operationId":"retrieveOrganisationByUserId","parameters":[{"in":"path","name":"userId","required":true,"schema":{"type":"string"}},{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationEntityResponse"}}},"description":"OK"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationEntityResponse"}}},"description":"User id null"},"403":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationEntityResponse"}}},"description":"Forbidden Error: Access denied"},"404":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationEntityResponse"}}},"description":"Professional User not found"},"500":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationEntityResponse"}}},"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]},{"Authorization":[]}],"summary":"Retrieves the organisation details of a user","tags":["organisation-internal-controller"]}},"/refdata/internal/v1/organisations/pba/{status}":{"get":{"description":"**IDAM Roles to access API** : <br> prd-admin","operationId":"retrieveOrgByPbaStatus","parameters":[{"in":"path","name":"status","required":true,"schema":{"type":"string"}},{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationsWithPbaStatusResponse"}}},"description":"OK"},"400":{"description":"PBA status is not valid"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"500":{"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]},{"Authorization":[]}],"summary":"Retrieves the list of organisations with particular PBA status","tags":["organisation-internal-controller"]}},"/refdata/internal/v1/organisations/pbas":{"get":{"description":"**IDAM Roles to access API** : <br> prd-admin","operationId":"retrievePaymentAccountBySuperUserEmail_1","parameters":[{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationPbaResponse"}}},"description":"The Organisation's associated Payment Accounts"},"400":{"description":"An invalid Email Address was provided"},"403":{"description":"Forbidden Error: Access denied"},"404":{"description":"No Payment Accounts found with the given Email Address"},"500":{"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]},{"Authorization":[]},{"UserEmail":[]}],"summary":"Retrieves an Organisation's Payment Accounts with a User's Email Address","tags":["organisation-internal-controller"]}},"/refdata/internal/v1/organisations/users":{"get":{"description":"**Bearer token not required to access API. Only a valid s2s token**","operationId":"getRefreshUsers","parameters":[{"description":"Timestamp to fetch users with last updated date/time >= since, expected format: yyyy-MM-ddTHH:mm:ss","in":"query","name":"since","required":false,"schema":{"type":"string"}},{"in":"query","name":"userId","required":false,"schema":{"type":"string"}},{"in":"query","name":"pageSize","required":false,"schema":{"type":"integer","format":"int32"}},{"in":"query","name":"searchAfter","required":false,"schema":{"type":"string","format":"uuid"}},{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GetRefreshUsersResponse"}}}},"description":"List of Users and their details"},"400":{"description":"An invalid request has been provided"},"403":{"description":"Forbidden Error: Access denied"},"500":{"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]}],"summary":"Retrieves the details of all users with a last updated date/time >= since, or a single user by user identifier","tags":["professional-user-internal-controller"]}},"/refdata/internal/v1/organisations/{orgId}":{"delete":{"description":"**IDAM Roles to access API** : <br> prd-admin","operationId":"deleteOrganisation","parameters":[{"in":"path","name":"orgId","required":true,"schema":{"pattern":"^[A-Z0-9]{7}$","type":"string"}},{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"responses":{"204":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteOrganisationResponse"}}},"description":"A representation of the Deleted organisation"},"400":{"description":"The orgId provided for an organisation is not valid or organisation admin is not in Pending state "},"401":{"description":"Unauthorized Error : The requested resource is restricted and requires authentication"},"403":{"description":"Forbidden Error: Access denied"},"404":{"description":"Not Found"},"500":{"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]},{"Authorization":[]}],"summary":"Delete an Organisation","tags":["organisation-internal-controller"]},"put":{"description":"**IDAM Roles to access API** : <br> prd-admin","operationId":"updatesOrganisation_1","parameters":[{"in":"path","name":"orgId","required":true,"schema":{"pattern":"^[A-Z0-9]{7}$","type":"string"}},{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationCreationRequest"}}},"description":"organisationCreationRequest","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Organisation has been updated"},"400":{"description":"If Organisation request sent with null/invalid values for mandatory fields"},"403":{"description":"Forbidden Error: Access denied"},"404":{"description":"No Organisation found with the given ID"},"500":{"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]},{"Authorization":[]}],"summary":"Updates an Organisation","tags":["organisation-internal-controller"]}},"/refdata/internal/v1/organisations/{orgId}/mfa":{"put":{"description":"**IDAM Roles to access API** : <br> prd-admin","operationId":"updateOrgMfaStatus","parameters":[{"in":"path","name":"orgId","required":true,"schema":{"pattern":"^[A-Z0-9]{7}$","type":"string"}},{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MfaUpdateRequest"}}},"description":"mfaUpdateRequest","required":true},"responses":{"200":{"description":"The MFA preference of the organisation has been successfully updated"},"400":{"description":"An invalid request was provided"},"401":{"description":"Unauthorized Error : The requested resource is restricted and requires authentication"},"403":{"description":"Forbidden Error: Access denied"},"404":{"description":"No Organisation was found with the given organisationIdentifier"},"500":{"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]},{"Authorization":[]}],"summary":"Updates the MFA preference of an Organisation","tags":["organisation-internal-controller"]}},"/refdata/internal/v1/organisations/{orgId}/pba/status":{"put":{"description":"**IDAM Roles to access API** : <br> prd-admin","operationId":"updateAnOrganisationsRegisteredPbas","parameters":[{"in":"path","name":"orgId","required":true,"schema":{"type":"string"}},{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePbaRequest"}}},"description":"updatePbaRequest","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePbaStatusResponse"}}},"description":"Success: The requested PBAs have been successfully Updated - OR - Partial Success: Some of the requested PBAs have been successfully Updated and the invalid ones returned with individual error message"},"202":{"content":{"application/json":{"schema":{"type":"object"}}},"description":"Accepted"},"400":{"description":"An invalid request was provided"},"403":{"description":"Forbidden Error: Access denied"},"404":{"description":"No Organisation found with the given ID"},"422":{"description":"All requested PBAs failed to update"},"500":{"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]},{"Authorization":[]}],"summary":"Review (Accept or Reject) an Organisation's registered PBAs ","tags":["organisation-internal-controller"]}},"/refdata/internal/v1/organisations/{orgId}/pbas":{"put":{"description":"**IDAM Roles to access API** : <br> prd-admin","operationId":"editPaymentAccountsByOrgId","parameters":[{"in":"path","name":"orgId","required":true,"schema":{"pattern":"^[A-Z0-9]{7}$","type":"string"}},{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PbaRequest"}}},"description":"pbaEditRequest","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PbaResponse"}}},"description":"The Payment Account's have been updated"},"400":{"description":"An invalid request was provided"},"403":{"description":"Forbidden Error: Access denied"},"404":{"description":"No Organisation found with the given ID"},"500":{"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]},{"Authorization":[]}],"summary":"Edit the PBAs of an Organisation by Organisation ID","tags":["organisation-internal-controller"]}},"/refdata/internal/v1/organisations/{orgId}/users":{"get":{"description":"**IDAM Roles to access API** :<br> prd-admin,<br> prd-aac-system","operationId":"findUsersByOrganisation","parameters":[{"in":"path","name":"orgId","required":true,"schema":{"pattern":"^[A-Z0-9]{7}$","type":"string"}},{"in":"query","name":"userIdentifier","required":false,"schema":{"type":"string"}},{"description":"Flag (True/False) to decide whether Deleted Users are included in the response","in":"query","name":"showDeleted","required":false,"schema":{"type":"string"}},{"in":"query","name":"returnRoles","required":false,"schema":{"type":"boolean","default":true}},{"in":"query","name":"page","required":false,"schema":{"type":"integer","format":"int32"}},{"in":"query","name":"size","required":false,"schema":{"type":"integer","format":"int32"}},{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProfessionalUsersEntityResponse"}}}},"description":"List of Professional Users and their details"},"400":{"description":"An invalid Organisation Identifier was provided"},"403":{"description":"Forbidden Error: Access denied"},"404":{"description":"No Organisation or Users found with the given ID"},"500":{"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]},{"Authorization":[]}],"summary":"Retrieves the Users of an Active Organisation based on the showDeleted flag","tags":["professional-user-internal-controller"]}},"/refdata/internal/v1/organisations/{orgId}/users/":{"post":{"description":"**IDAM Roles to access API** : <br> prd-admin","operationId":"addUserToOrganisation","parameters":[{"in":"path","name":"orgId","required":true,"schema":{"pattern":"^[A-Z0-9]{7}$","type":"string"}},{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewUserCreationRequest"}}},"description":"newUserCreationRequest","required":true},"responses":{"201":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewUserResponse"}}},"description":"The new User has been added to the Organisation"},"400":{"description":"An invalid request was provided"},"403":{"description":"Forbidden Error: Access denied"},"404":{"description":"No Organisation found with the given ID to add new User to"},"409":{"description":"A User already exists with the given Email Address or is already active in SIDAM during resend invite"},"429":{"description":"Too many requests for resend invite"},"500":{"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]},{"Authorization":[]}],"summary":"Add a new User to an Organisation","tags":["organisation-internal-controller"]}},"/refdata/internal/v1/organisations/{orgId}/users/{userId}":{"put":{"description":"**IDAM Roles to access API** :<br> prd-admin","operationId":"modifyRolesForExistingUserOfOrganisation","parameters":[{"in":"path","name":"orgId","required":true,"schema":{"pattern":"^[A-Z0-9]{7}$","type":"string"}},{"in":"path","name":"userId","required":true,"schema":{"type":"string"}},{"in":"query","name":"origin","required":false,"schema":{"type":"string","default":"EXUI"}},{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfileUpdatedData"}}},"description":"userProfileUpdatedData","required":true},"responses":{"201":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModifyUserRolesResponse"}}},"description":"The User's Roles/Status have been modified"},"400":{"description":"Invalid request provided"},"403":{"description":"Forbidden Error: Access denied"},"404":{"description":"No Organisation or User found with the given ID"},"412":{"description":"One or more of the Roles provided is already assigned to the User"},"500":{"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]},{"Authorization":[]}],"summary":"Modify the Roles or Status of a User","tags":["professional-user-internal-controller"]}},"/refdata/internal/v2/organisations":{"get":{"description":"**IDAM Roles to access API** : <br> prd-admin","operationId":"retrieveOrganisations","parameters":[{"in":"query","name":"id","required":false,"schema":{"pattern":"^[A-Z0-9]{7}$","type":"string"}},{"in":"query","name":"since","required":false,"schema":{"type":"string"}},{"in":"query","name":"status","required":false,"schema":{"type":"string"}},{"in":"query","name":"page","required":false,"schema":{"type":"integer","format":"int32"}},{"in":"query","name":"size","required":false,"schema":{"type":"integer","format":"int32"}},{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationsDetailResponseV2"}}},"description":"Details of one or more Organisations"},"400":{"description":"Invalid request (Status or ID) provided"},"403":{"description":"Forbidden Error: Access denied"},"404":{"description":"No Organisation(s) found with the given ID"},"500":{"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]},{"Authorization":[]}],"summary":"Retrieves all Organisations filtered by given Status or one Organisation if ID is given","tags":["organisation-internal-controller-v-2"]},"post":{"description":"**IDAM Roles to access API** : <br> No role restriction","operationId":"createOrganisation","parameters":[{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationOtherOrgsCreationRequest"}}},"description":"organisationCreationRequest","required":true},"responses":{"201":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationResponse"}}},"description":"The Organisation Identifier of the created Organisation"},"400":{"description":"An invalid request has been provided"},"403":{"description":"Forbidden Error: Access denied"},"500":{"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]}],"summary":"Creates an Organisation","tags":["organisation-internal-controller-v-2"]}},"/refdata/internal/v2/organisations/pbas":{"get":{"description":"**IDAM Roles to access API** : <br> prd-admin","operationId":"retrievePaymentAccountBySuperUserEmail","parameters":[{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationPbaResponseV2"}}},"description":"The Organisation's associated Payment Accounts"},"400":{"description":"An invalid Email Address was provided"},"403":{"description":"Forbidden Error: Access denied"},"404":{"description":"No Payment Accounts found with the given Email Address"},"500":{"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]},{"Authorization":[]},{"UserEmail":[]}],"summary":"Retrieves an Organisation's Payment Accounts with a User's Email Address","tags":["organisation-internal-controller-v-2"]}},"/refdata/internal/v2/organisations/users":{"post":{"description":"**Bearer token not required to access API. Only a valid s2s token**","operationId":"findUsersByOrganisations","parameters":[{"in":"query","name":"pageSize","required":false,"schema":{"type":"integer","format":"int32","default":20}},{"in":"query","name":"searchAfterOrg","required":false,"schema":{"type":"string","format":"uuid"}},{"in":"query","name":"searchAfterUser","required":false,"schema":{"type":"string","format":"uuid"}},{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsersInOrganisationsByOrganisationIdentifiersRequest"}}},"description":"Get users in organisations by organisation identifiers","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsersInOrganisationsByOrganisationIdentifiersResponse"}}},"description":"List of users and organisations"},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}},"description":"Invalid request (PageSize, searchAfterOrg or searchAfterUser) provided"},"403":{"description":"Forbidden Error: Access denied"},"500":{"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]}],"summary":"Retrieves users in organisations by provided organisation identifiers","tags":["professional-user-internal-controller-v-2"]}},"/refdata/internal/v2/organisations/{orgId}":{"put":{"description":"**IDAM Roles to access API** : <br> prd-admin","operationId":"updatesOrganisation","parameters":[{"in":"path","name":"orgId","required":true,"schema":{"pattern":"^[A-Z0-9]{7}$","type":"string"}},{"description":"Authorization token","in":"header","name":"Authorization","required":true,"schema":{"type":"string"}},{"description":"Keyword `Bearer` followed by a service-to-service token for a whitelisted micro-service","in":"header","name":"ServiceAuthorization","required":true,"schema":{"type":"string"}},{"description":"UserEmail","in":"header","name":"UserEmail","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrganisationOtherOrgsCreationRequest"}}},"description":"organisationCreationRequest","required":true},"responses":{"200":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"Organisation has been updated"},"400":{"description":"If Organisation request sent with null/invalid values for mandatory fields"},"403":{"description":"Forbidden Error: Access denied"},"404":{"description":"No Organisation found with the given ID"},"500":{"description":"Internal Server Error"}},"security":[{"ServiceAuthorization":[]},{"Authorization":[]}],"summary":"Updates an Organisation","tags":["organisation-internal-controller-v-2"]}}},"components":{"schemas":{"AddPbaResponse":{"type":"object","properties":{"message":{"type":"string"},"reason":{"$ref":"#/components/schemas/FailedPbaReason"}}},"BulkCustomerOrganisationsDetailResponse":{"type":"object","properties":{"organisationId":{"type":"string"},"organisationName":{"type":"string"},"paymentAccount":{"type":"string"}}},"BulkCustomerRequest":{"type":"object","properties":{"bulkCustomerId":{"type":"string"},"idamId":{"type":"string"}}},"ContactInformationCreationRequest":{"required":["addressLine1"],"type":"object","properties":{"addressLine1":{"type":"string"},"addressLine2":{"type":"string"},"addressLine3":{"type":"string"},"country":{"type":"string"},"county":{"type":"string"},"dxAddress":{"type":"array","items":{"$ref":"#/components/schemas/DxAddressCreationRequest"}},"postCode":{"type":"string"},"townCity":{"type":"string"},"uprn":{"type":"string"}}},"ContactInformationResponse":{"type":"object","properties":{"addressId":{"type":"string","format":"uuid"},"addressLine1":{"type":"string"},"addressLine2":{"type":"string"},"addressLine3":{"type":"string"},"country":{"type":"string"},"county":{"type":"string"},"created":{"type":"string","format":"date-time"},"postCode":{"type":"string"},"townCity":{"type":"string"},"uprn":{"type":"string"}}},"DeleteMultipleAddressRequest":{"type":"object","properties":{"addressId":{"type":"string"}}},"DeleteOrganisationResponse":{"type":"object","properties":{"message":{"type":"string"},"statusCode":{"type":"integer","format":"int32"}}},"DxAddressCreationRequest":{"required":["dxExchange","dxNumber"],"type":"object","properties":{"dxExchange":{"type":"string"},"dxNumber":{"pattern":"^(?:DX|NI) \\d{10}+$","type":"string","example":"string"}}},"ErrorResponse":{"type":"object","properties":{"errorDescription":{"type":"string"},"errorMessage":{"type":"string"},"timeStamp":{"type":"string"}}},"FailedPbaReason":{"type":"object","properties":{"duplicatePaymentAccounts":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"invalidPaymentAccounts":{"uniqueItems":true,"type":"array","items":{"type":"string"}}}},"FetchPbaByStatusResponse":{"type":"object","properties":{"dateAccepted":{"type":"string"},"dateCreated":{"type":"string"},"pbaNumber":{"type":"string"},"status":{"type":"string"},"statusMessage":{"type":"string"}}},"GetRefreshUsersResponse":{"type":"object","properties":{"lastRecordInPage":{"type":"string","format":"uuid"},"moreAvailable":{"type":"boolean"},"users":{"type":"array","items":{"$ref":"#/components/schemas/RefreshUser"}}}},"MfaStatusResponse":{"type":"object","properties":{"mfa":{"type":"string"}}},"MfaUpdateRequest":{"required":["mfa"],"type":"object","properties":{"mfa":{"type":"string","enum":["EMAIL","NONE","PHONE","AUTHENTICATOR"]}}},"ModifyUserRolesResponse":{"type":"object","properties":{"roleAdditionResponse":{"$ref":"#/components/schemas/RoleAdditionResponse"},"roleDeletionResponse":{"type":"array","items":{"$ref":"#/components/schemas/RoleDeletionResponse"}},"statusUpdateResponse":{"$ref":"#/components/schemas/StatusUpdateResponse"}}},"MultipleOrganisationsResponse":{"type":"object","properties":{"lastRecordInPage":{"type":"string","format":"uuid"},"moreAvailable":{"type":"boolean"},"organisationInfo":{"type":"array","items":{"$ref":"#/components/schemas/OrganisationByProfileResponse"}}}},"NewUserCreationRequest":{"type":"object","properties":{"email":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"resendInvite":{"type":"boolean"},"roles":{"type":"array","items":{"type":"string"}},"userAccessTypes":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/UserAccessType"}}}},"NewUserResponse":{"type":"object","properties":{"idamStatus":{"type":"string"},"userIdentifier":{"type":"string"}}},"OrgAttributeRequest":{"type":"object","properties":{"key":{"type":"string"},"value":{"type":"string"}}},"OrgAttributeResponse":{"type":"object","properties":{"key":{"type":"string"},"value":{"type":"string"}}},"OrganisationByProfileIdsRequest":{"type":"object","properties":{"organisationProfileIds":{"type":"array","items":{"type":"string"}}}},"OrganisationByProfileResponse":{"type":"object","properties":{"lastUpdated":{"type":"string","format":"date-time"},"organisationIdentifier":{"type":"string"},"organisationProfileIds":{"type":"array","items":{"type":"string"}},"status":{"type":"string"}}},"OrganisationCreationRequest":{"required":["contactInformation","name","superUser"],"type":"object","properties":{"companyNumber":{"type":"string"},"companyUrl":{"type":"string"},"contactInformation":{"type":"array","items":{"$ref":"#/components/schemas/ContactInformationCreationRequest"}},"name":{"type":"string"},"paymentAccount":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"sraId":{"type":"string"},"sraRegulated":{"type":"string"},"status":{"type":"string"},"statusMessage":{"type":"string"},"superUser":{"$ref":"#/components/schemas/UserCreationRequest"}}},"OrganisationEntityResponse":{"type":"object","properties":{"companyNumber":{"type":"string"},"companyUrl":{"type":"string"},"contactInformation":{"type":"array","items":{"$ref":"#/components/schemas/ContactInformationResponse"}},"dateApproved":{"type":"string","format":"date-time"},"dateReceived":{"type":"string","format":"date-time"},"lastUpdated":{"type":"string","format":"date-time"},"name":{"type":"string"},"organisationIdentifier":{"type":"string"},"organisationProfileIds":{"type":"array","items":{"type":"string"}},"paymentAccount":{"type":"array","items":{"type":"string"}},"pendingPaymentAccount":{"type":"array","items":{"type":"string"}},"sraId":{"type":"string"},"sraRegulated":{"type":"boolean"},"status":{"type":"string","enum":["ACTIVE","BLOCKED","DELETED","PENDING","REVIEW"]},"statusMessage":{"type":"string"},"superUser":{"$ref":"#/components/schemas/SuperUserResponse"}}},"OrganisationEntityResponseV2":{"type":"object","properties":{"companyNumber":{"type":"string"},"companyUrl":{"type":"string"},"contactInformation":{"type":"array","items":{"$ref":"#/components/schemas/ContactInformationResponse"}},"dateApproved":{"type":"string","format":"date-time"},"dateReceived":{"type":"string","format":"date-time"},"lastUpdated":{"type":"string","format":"date-time"},"name":{"type":"string"},"orgAttributes":{"type":"array","items":{"$ref":"#/components/schemas/OrgAttributeResponse"}},"orgType":{"type":"string"},"organisationIdentifier":{"type":"string"},"organisationProfileIds":{"type":"array","items":{"type":"string"}},"paymentAccount":{"type":"array","items":{"type":"string"}},"pendingPaymentAccount":{"type":"array","items":{"type":"string"}},"sraId":{"type":"string"},"sraRegulated":{"type":"boolean"},"status":{"type":"string","enum":["ACTIVE","BLOCKED","DELETED","PENDING","REVIEW"]},"statusMessage":{"type":"string"},"superUser":{"$ref":"#/components/schemas/SuperUserResponse"}}},"OrganisationInfo":{"type":"object","properties":{"lastUpdated":{"type":"string","format":"date-time"},"organisationIdentifier":{"type":"string"},"organisationProfileIds":{"type":"array","items":{"type":"string"}},"status":{"type":"string","enum":["ACTIVE","BLOCKED","DELETED","PENDING","REVIEW"]}}},"OrganisationInfoWithUsersResponse":{"type":"object","properties":{"organisationIdentifier":{"type":"string"},"organisationProfileIds":{"type":"array","items":{"type":"string"}},"status":{"type":"string"},"users":{"type":"array","items":{"$ref":"#/components/schemas/OrganisationUserResponse"}}}},"OrganisationMinimalInfoResponse":{"type":"object","properties":{"contactInformation":{"type":"array","items":{"$ref":"#/components/schemas/ContactInformationResponse"}},"name":{"type":"string"},"organisationIdentifier":{"type":"string"}}},"OrganisationOtherOrgsCreationRequest":{"required":["contactInformation","name","superUser"],"type":"object","properties":{"companyNumber":{"type":"string"},"companyUrl":{"type":"string"},"contactInformation":{"type":"array","items":{"$ref":"#/components/schemas/ContactInformationCreationRequest"}},"name":{"type":"string"},"orgAttributes":{"type":"array","items":{"$ref":"#/components/schemas/OrgAttributeRequest"}},"orgType":{"type":"string"},"paymentAccount":{"uniqueItems":true,"type":"array","items":{"type":"string"}},"sraId":{"type":"string"},"sraRegulated":{"type":"string"},"status":{"type":"string"},"statusMessage":{"type":"string"},"superUser":{"$ref":"#/components/schemas/UserCreationRequest"}}},"OrganisationPbaResponse":{"type":"object","properties":{"organisationEntityResponse":{"$ref":"#/components/schemas/OrganisationEntityResponse"}}},"OrganisationPbaResponseV2":{"type":"object","properties":{"organisationEntityResponse":{"$ref":"#/components/schemas/OrganisationEntityResponseV2"}}},"OrganisationResponse":{"type":"object","properties":{"organisationIdentifier":{"type":"string"}}},"OrganisationUserResponse":{"type":"object","properties":{"deleted":{"type":"string","format":"date-time"},"email":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"lastUpdated":{"type":"string","format":"date-time"},"userAccessTypes":{"type":"array","items":{"$ref":"#/components/schemas/UserAccessType"}},"userIdentifier":{"type":"string"}}},"OrganisationsDetailResponse":{"type":"object","properties":{"moreAvailable":{"type":"boolean"},"organisations":{"type":"array","items":{"$ref":"#/components/schemas/OrganisationEntityResponse"}}}},"OrganisationsDetailResponseV2":{"type":"object","properties":{"moreAvailable":{"type":"boolean"},"organisations":{"type":"array","items":{"$ref":"#/components/schemas/OrganisationEntityResponseV2"}}}},"OrganisationsWithPbaStatusResponse":{"type":"object","properties":{"organisationIdentifier":{"type":"string"},"organisationName":{"type":"string"},"pbaNumbers":{"type":"array","items":{"$ref":"#/components/schemas/FetchPbaByStatusResponse"}},"status":{"type":"string","enum":["ACTIVE","BLOCKED","DELETED","PENDING","REVIEW"]},"superUser":{"$ref":"#/components/schemas/SuperUserResponse"}}},"PbaRequest":{"type":"object","properties":{"paymentAccounts":{"uniqueItems":true,"type":"array","items":{"type":"string"}}}},"PbaResponse":{"type":"object","properties":{"statusCode":{"type":"string"},"statusMessage":{"type":"string"}}},"PbaUpdateRequest":{"type":"object","properties":{"pbaNumber":{"type":"string"},"status":{"type":"string"},"statusMessage":{"type":"string"}}},"PbaUpdateStatusResponse":{"type":"object","properties":{"errorMessage":{"type":"string"},"pbaNumber":{"type":"string"}}},"ProfessionalUsersEntityResponse":{"type":"object","properties":{"organisationIdentifier":{"type":"string"},"organisationProfileIds":{"type":"array","items":{"type":"string"}},"organisationStatus":{"type":"string"},"userProfiles":{"type":"array","writeOnly":true,"items":{"$ref":"#/components/schemas/ProfessionalUsersResponse"}},"users":{"type":"array","items":{"$ref":"#/components/schemas/ProfessionalUsersResponse"}}}},"ProfessionalUsersResponse":{"type":"object","properties":{"email":{"type":"string"},"firstName":{"type":"string"},"idamMessage":{"type":"string"},"idamStatus":{"type":"string"},"idamStatusCode":{"type":"string"},"lastName":{"type":"string"},"lastUpdated":{"type":"string","format":"date-time"},"roles":{"type":"array","items":{"type":"string"}},"userAccessTypes":{"type":"array","items":{"$ref":"#/components/schemas/UserAccessType"}},"userIdentifier":{"type":"string"}}},"RefreshUser":{"type":"object","properties":{"dateTimeDeleted":{"type":"string","format":"date-time"},"lastUpdated":{"type":"string","format":"date-time"},"organisationInfo":{"$ref":"#/components/schemas/OrganisationInfo"},"userAccessTypes":{"type":"array","items":{"$ref":"#/components/schemas/UserAccessType"}},"userIdentifier":{"type":"string"}}},"RoleAdditionResponse":{"type":"object","properties":{"idamMessage":{"type":"string"},"idamStatusCode":{"type":"string"}}},"RoleDeletionResponse":{"type":"object","properties":{"idamMessage":{"type":"string"},"idamStatusCode":{"type":"string"},"roleName":{"type":"string"}}},"RoleName":{"type":"object","properties":{"name":{"type":"string"}}},"StatusUpdateResponse":{"type":"object","properties":{"idamMessage":{"type":"string"},"idamStatusCode":{"type":"string"}}},"SuperUserResponse":{"type":"object","properties":{"email":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"}}},"UpdateContactInformationRequest":{"type":"object","properties":{"addressLine1":{"type":"string"},"addressLine2":{"type":"string"},"addressLine3":{"type":"string"},"country":{"type":"string"},"county":{"type":"string"},"dxExchange":{"type":"string"},"dxNumber":{"type":"string"},"postCode":{"type":"string"},"townCity":{"type":"string"},"uprn":{"type":"string"}}},"UpdatePbaRequest":{"type":"object","properties":{"pbaNumbers":{"type":"array","items":{"$ref":"#/components/schemas/PbaUpdateRequest"}}}},"UpdatePbaStatusResponse":{"type":"object","properties":{"message":{"type":"string"},"pbaUpdateStatusResponses":{"type":"array","items":{"$ref":"#/components/schemas/PbaUpdateStatusResponse"}}}},"UserAccessType":{"type":"object","properties":{"accessTypeId":{"type":"string"},"enabled":{"type":"boolean"},"jurisdictionId":{"type":"string"},"organisationProfileId":{"type":"string"}}},"UserCreationRequest":{"required":["firstName","lastName"],"type":"object","properties":{"email":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"}}},"UserProfileUpdatedData":{"type":"object","properties":{"email":{"type":"string"},"firstName":{"type":"string"},"idamStatus":{"type":"string"},"lastName":{"type":"string"},"rolesAdd":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/RoleName"}},"rolesDelete":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/RoleName"}},"userAccessTypes":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/UserAccessType"}}}},"UsersInOrganisationsByOrganisationIdentifiersRequest":{"type":"object","properties":{"organisationIdentifiers":{"type":"array","items":{"type":"string"}}}},"UsersInOrganisationsByOrganisationIdentifiersResponse":{"type":"object","properties":{"lastOrgInPage":{"type":"string","format":"uuid"},"lastUserInPage":{"type":"string","format":"uuid"},"moreAvailable":{"type":"boolean"},"organisationInfo":{"type":"array","items":{"$ref":"#/components/schemas/OrganisationInfoWithUsersResponse"}}}}},"securitySchemes":{"Authorization":{"bearerFormat":"JWT","scheme":"bearer","type":"http"},"ServiceAuthorization":{"bearerFormat":"JWT","description":"ServiceAuthorization","in":"header","name":"ServiceAuthorization","type":"apiKey"},"UserEmail":{"in":"header","name":"UserEmail","type":"apiKey"}}}}
